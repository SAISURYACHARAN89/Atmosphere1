[{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\.eslintrc.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\__tests__\\App.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\babel.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\jest.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\metro.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\react-native.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\scripts\\fetch-fonts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\BottomNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\ChatList.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: \"hasUnread ? '700' : '600'\" }","line":62,"column":25,"nodeType":"ObjectExpression","endLine":65,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { View, Text, StyleSheet, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { getImageSource } from '../lib/image';\r\n\r\ninterface ChatListProps {\r\n    chats: any[];\r\n    currentUserId: string | null;\r\n    onChatPress: (chatId: string) => void;\r\n    emptyMessage?: string;\r\n}\r\n\r\nconst ChatList: React.FC<ChatListProps> = ({ chats, currentUserId, onChatPress, emptyMessage }) => {\r\n    const { theme } = useContext(ThemeContext);\r\n\r\n    const renderChatItem = ({ item }: { item: any }) => {\r\n        // Find the OTHER participant (not the current user)\r\n        // If it's a group, use group info. If it's 1-on-1, use the other user.\r\n        let name = '';\r\n        let image = null;\r\n        let isGroup = item.isGroup;\r\n\r\n        if (isGroup) {\r\n            name = item.groupName || 'Unnamed Group';\r\n            image = item.groupImage;\r\n        } else {\r\n            const other = item.participants?.find((p: any) => p._id !== currentUserId) || item.participants?.[0] || {};\r\n            name = other.displayName || other.username || 'User';\r\n            image = other.avatarUrl;\r\n        }\r\n\r\n        const unreadCount = item.unreadCounts?.[currentUserId!] || 0;\r\n        const hasUnread = unreadCount > 0;\r\n\r\n        return (\r\n            <TouchableOpacity\r\n                style={[\r\n                    styles.chatItem,\r\n                    {\r\n                        backgroundColor: hasUnread ? theme.primary + '15' : theme.cardBackground,\r\n                        borderColor: hasUnread ? theme.primary : theme.border\r\n                    }\r\n                ]}\r\n                onPress={() => onChatPress(item._id)}\r\n            >\r\n                <View style={styles.avatarContainer}>\r\n                    <Image\r\n                        source={getImageSource(image || 'https://via.placeholder.com/50')}\r\n                        style={styles.avatar}\r\n                    />\r\n                    {hasUnread && (\r\n                        <View style={[styles.unreadBadge, { backgroundColor: theme.primary }]}>\r\n                            <Text style={styles.unreadBadgeText}>\r\n                                {unreadCount > 99 ? '99+' : unreadCount}\r\n                            </Text>\r\n                        </View>\r\n                    )}\r\n                </View>\r\n                <View style={styles.chatInfo}>\r\n                    <Text style={[\r\n                        styles.chatName,\r\n                        {\r\n                            color: theme.text,\r\n                            fontWeight: hasUnread ? '700' : '600'\r\n                        }\r\n                    ]} numberOfLines={1}>\r\n                        {name}\r\n                    </Text>\r\n                    <Text style={[styles.lastMessage, { color: theme.placeholder }]} numberOfLines={1}>\r\n                        {item.lastMessage?.content || item.lastMessage?.body || 'No messages yet.'}\r\n                    </Text>\r\n                </View>\r\n                {/* Optional: Add timestamp */}\r\n                <Text style={[styles.timestamp, { color: theme.placeholder }]}>\r\n                    {item.updatedAt ? new Date(item.updatedAt).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }) : ''}\r\n                </Text>\r\n            </TouchableOpacity>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <FlatList\r\n            data={chats}\r\n            renderItem={renderChatItem}\r\n            keyExtractor={item => item._id}\r\n            contentContainerStyle={styles.list}\r\n            ListEmptyComponent={<Text style={[styles.empty, { color: theme.placeholder }]}>{emptyMessage || 'No chats found.'}</Text>}\r\n        />\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    list: { paddingBottom: 20 },\r\n    chatItem: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 12,\r\n        marginHorizontal: 8,\r\n        marginBottom: 1,\r\n        borderRadius: 0,\r\n        borderBottomWidth: 1\r\n    },\r\n    avatarContainer: { position: 'relative', marginRight: 12 },\r\n    avatar: {\r\n        width: 56,\r\n        height: 56,\r\n        borderRadius: 28,\r\n        backgroundColor: '#e5e5e5'\r\n    },\r\n    unreadBadge: {\r\n        position: 'absolute',\r\n        top: -5,\r\n        right: -5,\r\n        minWidth: 24,\r\n        height: 24,\r\n        borderRadius: 12,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        borderWidth: 2,\r\n        borderColor: '#fff'\r\n    },\r\n    unreadBadgeText: {\r\n        color: '#fff',\r\n        fontSize: 11,\r\n        fontWeight: '700',\r\n        paddingHorizontal: 6\r\n    },\r\n    chatInfo: { flex: 1, justifyContent: 'center' },\r\n    chatName: {\r\n        fontSize: 15,\r\n        fontWeight: '600',\r\n        marginBottom: 4\r\n    },\r\n    lastMessage: {\r\n        fontSize: 13,\r\n        marginTop: 0,\r\n        opacity: 0.7\r\n    },\r\n    timestamp: {\r\n        fontSize: 12,\r\n        marginLeft: 8\r\n    },\r\n    empty: { textAlign: 'center', marginTop: 40, fontSize: 16 },\r\n});\r\n\r\nexport default ChatList;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\CommentsOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\CreateGroupModal.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":117,"column":30,"nodeType":"ObjectExpression","endLine":117,"endColumn":41},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isSelected ? theme.primary : 'transparent'\" }","line":123,"column":21,"nodeType":"ObjectExpression","endLine":123,"endColumn":112}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useContext, useEffect, useMemo } from 'react';\r\nimport { View, Text, Modal, StyleSheet, TextInput, TouchableOpacity, Image, Alert, FlatList, ActivityIndicator } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { createGroup, getFollowersList } from '../lib/api';\r\nimport { getImageSource } from '../lib/image';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n// You'll need vector icons or simple text for checkmarks\r\n// import Icon from 'react-native-vector-icons/MaterialIcons'; \r\n\r\ninterface CreateGroupModalProps {\r\n    visible: boolean;\r\n    onClose: () => void;\r\n    onGroupCreated: () => void;\r\n}\r\n\r\nconst CreateGroupModal: React.FC<CreateGroupModalProps> = ({ visible, onClose, onGroupCreated }) => {\r\n    const { theme } = useContext(ThemeContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [type] = useState('Public');\r\n    const [loading, setLoading] = useState(false);\r\n    const [followers, setFollowers] = useState<any[]>([]);\r\n    const [selectedUsers, setSelectedUsers] = useState<Set<string>>(new Set());\r\n    const [fetchingFollowers, setFetchingFollowers] = useState(false);\r\n\r\n    // Memoized styles\r\n    const checkboxCheckmarkStyle = useMemo(() => ({ color: '#fff', fontSize: 12 }), []);\r\n    const cancelButtonTextStyle = useMemo(() => ({ color: theme.primary, fontSize: 16 }), [theme.primary]);\r\n    const descriptionInputStyle = useMemo(() => ({ height: 60 }), []);\r\n    const emptyListTextStyle = useMemo(() => ({ textAlign: 'center', color: theme.placeholder, marginTop: 20 }), [theme.placeholder]);\r\n    const createButtonOpacityStyle = useMemo(() => ({ opacity: loading ? 0.7 : 1 }), [loading]);\r\n\r\n    useEffect(() => {\r\n        if (visible) {\r\n            fetchFollowers();\r\n        }\r\n    }, [visible]);\r\n\r\n    const fetchFollowers = async () => {\r\n        setFetchingFollowers(true);\r\n        try {\r\n            const userJson = await AsyncStorage.getItem('user');\r\n            if (userJson) {\r\n                const user = JSON.parse(userJson);\r\n                const list = await getFollowersList(user._id || user.id);\r\n                setFollowers(list);\r\n            }\r\n        } catch (err) {\r\n            console.warn('Failed to fetch followers', err);\r\n        } finally {\r\n            setFetchingFollowers(false);\r\n        }\r\n    };\r\n\r\n    const toggleUser = (userId: string) => {\r\n        const next = new Set(selectedUsers);\r\n        if (next.has(userId)) {\r\n            next.delete(userId);\r\n        } else {\r\n            next.add(userId);\r\n        }\r\n        setSelectedUsers(next);\r\n    };\r\n\r\n    const handleCreate = async () => {\r\n        if (!name.trim()) {\r\n            Alert.alert('Error', 'Please enter a group name');\r\n            return;\r\n        }\r\n\r\n        if (selectedUsers.size === 0) {\r\n            Alert.alert('Error', 'Please select at least one member');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            await createGroup({\r\n                name,\r\n                description,\r\n                type,\r\n                participants: Array.from(selectedUsers)\r\n            });\r\n            onGroupCreated();\r\n            onClose();\r\n            // Reset\r\n            setName('');\r\n            setDescription('');\r\n            setSelectedUsers(new Set());\r\n        } catch (err: any) {\r\n            Alert.alert('Error', err.message || 'Failed to create group');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderFollower = ({ item }: { item: any }) => {\r\n        // item is the Follow object usually, populate logic in backend might return user in 'follower' or 'following'\r\n        // wait, getFollowers returns list of users who follow me? Or my following?\r\n        // Prompt says \"add our followers\". Usually you add people you follow, but okay.\r\n        // Let's assume the API returns populated user objects directly or inside a wrapper.\r\n        // API: router.get('/:userId/followers', followService.getFollowers); -> { followers: [...] }\r\n        // The service usually populates 'follower'.\r\n\r\n        const user = item.follower || item; // Adjust based on actual API response structure\r\n        const isSelected = selectedUsers.has(user._id);\r\n\r\n        return (\r\n            <TouchableOpacity\r\n                style={[styles.userItem, { borderBottomColor: theme.border }]}\r\n                onPress={() => toggleUser(user._id)}\r\n            >\r\n                <Image\r\n                    source={getImageSource(user.avatarUrl)}\r\n                    style={styles.avatar}\r\n                />\r\n                <View style={{ flex: 1 }}>\r\n                    <Text style={[styles.userName, { color: theme.text }]}>{user.displayName || user.username}</Text>\r\n                    <Text style={[styles.userHandle, { color: theme.placeholder }]}>@{user.username}</Text>\r\n                </View>\r\n                <View style={[\r\n                    styles.checkbox,\r\n                    { borderColor: theme.primary, backgroundColor: isSelected ? theme.primary : 'transparent' }\r\n                ]}>\r\n                    {isSelected && <Text style={checkboxCheckmarkStyle}>âœ“</Text>}\r\n                </View>\r\n            </TouchableOpacity>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Modal visible={visible} animationType=\"slide\" presentationStyle=\"pageSheet\">\r\n            <View style={[styles.container, { backgroundColor: theme.background }]}>\r\n                <View style={styles.header}>\r\n                    <Text style={[styles.title, { color: theme.text }]}>New Group</Text>\r\n                    <TouchableOpacity onPress={onClose}>\r\n                        <Text style={cancelButtonTextStyle}>Cancel</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                <View style={styles.form}>\r\n                    <TextInput\r\n                        style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.cardBackground }]}\r\n                        placeholder=\"Group Name\"\r\n                        placeholderTextColor={theme.placeholder}\r\n                        value={name}\r\n                        onChangeText={setName}\r\n                    />\r\n                    <TextInput\r\n                        style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.cardBackground, ...descriptionInputStyle }]}\r\n                        placeholder=\"Description\"\r\n                        placeholderTextColor={theme.placeholder}\r\n                        value={description}\r\n                        onChangeText={setDescription}\r\n                        multiline\r\n                    />\r\n                </View>\r\n\r\n                <Text style={[styles.sectionTitle, { color: theme.text }]}>Add Members</Text>\r\n\r\n                {fetchingFollowers ? (\r\n                    <ActivityIndicator color={theme.primary} />\r\n                ) : (\r\n                    <FlatList\r\n                        data={followers}\r\n                        keyExtractor={(item) => (item.follower?._id || item._id)}\r\n                        renderItem={renderFollower}\r\n                        contentContainerStyle={styles.list}\r\n                        ListEmptyComponent={<Text style={emptyListTextStyle}>No followers found</Text>}\r\n                    />\r\n                )}\r\n\r\n                <View style={[styles.footer, { borderTopColor: theme.border, backgroundColor: theme.background }]}>\r\n                    <TouchableOpacity\r\n                        style={[styles.createButton, { backgroundColor: theme.primary, ...createButtonOpacityStyle }]}\r\n                        onPress={handleCreate}\r\n                        disabled={loading}\r\n                    >\r\n                        <Text style={styles.createButtonText}>{loading ? 'Creating...' : `Create Group(${selectedUsers.size})`}</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1 },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: 16,\r\n        paddingTop: 24\r\n    },\r\n    title: {\r\n        fontSize: 20,\r\n        fontWeight: '700'\r\n    },\r\n    form: {\r\n        paddingHorizontal: 16,\r\n        marginBottom: 16\r\n    },\r\n    input: {\r\n        borderWidth: 1,\r\n        borderRadius: 12,\r\n        padding: 12,\r\n        marginBottom: 12,\r\n        fontSize: 16\r\n    },\r\n    sectionTitle: {\r\n        fontSize: 16,\r\n        fontWeight: '600',\r\n        marginLeft: 16,\r\n        marginBottom: 8\r\n    },\r\n    list: {\r\n        paddingHorizontal: 16,\r\n        paddingBottom: 100\r\n    },\r\n    userItem: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        paddingVertical: 12,\r\n        borderBottomWidth: StyleSheet.hairlineWidth\r\n    },\r\n    avatar: {\r\n        width: 44,\r\n        height: 44,\r\n        borderRadius: 22,\r\n        backgroundColor: '#eee',\r\n        marginRight: 12\r\n    },\r\n    userName: {\r\n        fontSize: 15,\r\n        fontWeight: '600'\r\n    },\r\n    userHandle: {\r\n        fontSize: 13\r\n    },\r\n    checkbox: {\r\n        width: 24,\r\n        height: 24,\r\n        borderRadius: 12,\r\n        borderWidth: 2,\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    footer: {\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        padding: 16,\r\n        borderTopWidth: 1\r\n    },\r\n    createButton: {\r\n        paddingVertical: 14,\r\n        borderRadius: 12,\r\n        alignItems: 'center'\r\n    },\r\n    createButtonText: {\r\n        color: '#fff',\r\n        fontSize: 16,\r\n        fontWeight: '700'\r\n    }\r\n});\r\n\r\nexport default CreateGroupModal;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\CreateMenu.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#3b82f6' }","line":44,"column":65,"nodeType":"ObjectExpression","endLine":44,"endColumn":95,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#ec4899' }","line":64,"column":65,"nodeType":"ObjectExpression","endLine":64,"endColumn":95,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\CustomCalendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\GroupInfoModal.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16 }","line":42,"column":38,"nodeType":"ObjectExpression","endLine":42,"endColumn":76}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { View, Text, Modal, StyleSheet, Image, FlatList, TouchableOpacity } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { getImageSource } from '../lib/image';\r\n\r\ninterface GroupInfoModalProps {\r\n    visible: boolean;\r\n    onClose: () => void;\r\n    chat: any;\r\n}\r\n\r\nconst GroupInfoModal: React.FC<GroupInfoModalProps> = ({ visible, onClose, chat }) => {\r\n    const { theme } = useContext(ThemeContext);\r\n\r\n    if (!chat) return null;\r\n\r\n    const renderParticipant = ({ item }: { item: any }) => (\r\n        <View style={[styles.participantItem, { borderBottomColor: theme.border }]}>\r\n            <Image\r\n                source={getImageSource(item.avatarUrl || 'https://via.placeholder.com/50')}\r\n                style={styles.avatar}\r\n            />\r\n            <View style={styles.info}>\r\n                <Text style={[styles.name, { color: theme.text }]}>{item.displayName || item.username}</Text>\r\n                <Text style={[styles.handle, { color: theme.placeholder }]}>@{item.username}</Text>\r\n            </View>\r\n            {chat.groupAdmin === item._id && (\r\n                <View style={[styles.adminBadge, { backgroundColor: theme.primary }]}>\r\n                    <Text style={styles.adminText}>Admin</Text>\r\n                </View>\r\n            )}\r\n        </View>\r\n    );\r\n\r\n    return (\r\n        <Modal visible={visible} animationType=\"slide\" presentationStyle=\"pageSheet\">\r\n            <View style={[styles.container, { backgroundColor: theme.background }]}>\r\n                {/* Header */}\r\n                <View style={styles.header}>\r\n                    <Text style={[styles.title, { color: theme.text }]}>Group Info</Text>\r\n                    <TouchableOpacity onPress={onClose}>\r\n                        <Text style={{ color: theme.primary, fontSize: 16 }}>Close</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {/* Group Details */}\r\n                <View style={styles.groupHeader}>\r\n                    <Image\r\n                        source={getImageSource(chat.groupImage || chat.groupName || 'https://via.placeholder.com/100')}\r\n                        style={styles.groupImage}\r\n                    />\r\n                    <Text style={[styles.groupName, { color: theme.text }]}>{chat.groupName}</Text>\r\n                    {chat.groupDescription && <Text style={[styles.desc, { color: theme.placeholder }]}>{chat.groupDescription}</Text>}\r\n                </View>\r\n\r\n                {/* Participants */}\r\n                <Text style={[styles.sectionTitle, { color: theme.text }]}>\r\n                    Participants ({chat.participants?.length || 0})\r\n                </Text>\r\n\r\n                <FlatList\r\n                    data={chat.participants || []}\r\n                    renderItem={renderParticipant}\r\n                    keyExtractor={item => item._id}\r\n                    contentContainerStyle={styles.list}\r\n                />\r\n            </View>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1 },\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: 16,\r\n        paddingTop: 24,\r\n    },\r\n    title: { fontSize: 18, fontWeight: '700' },\r\n    groupHeader: {\r\n        alignItems: 'center',\r\n        padding: 24,\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#eee'\r\n    },\r\n    groupImage: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 50,\r\n        marginBottom: 16,\r\n        backgroundColor: '#e1e1e1'\r\n    },\r\n    groupName: { fontSize: 22, fontWeight: '700', marginBottom: 8 },\r\n    desc: { fontSize: 14, textAlign: 'center' },\r\n    sectionTitle: {\r\n        fontSize: 16,\r\n        fontWeight: '600',\r\n        marginLeft: 16,\r\n        marginTop: 24,\r\n        marginBottom: 8\r\n    },\r\n    list: { paddingBottom: 40 },\r\n    participantItem: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        padding: 12,\r\n        marginHorizontal: 16,\r\n        borderBottomWidth: StyleSheet.hairlineWidth\r\n    },\r\n    avatar: { width: 40, height: 40, borderRadius: 20, marginRight: 12, backgroundColor: '#eee' },\r\n    info: { flex: 1 },\r\n    name: { fontSize: 15, fontWeight: '600' },\r\n    handle: { fontSize: 13 },\r\n    adminBadge: {\r\n        paddingHorizontal: 8,\r\n        paddingVertical: 4,\r\n        borderRadius: 8\r\n    },\r\n    adminText: { color: '#fff', fontSize: 10, fontWeight: '700' }\r\n});\r\n\r\nexport default GroupInfoModal;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\GroupList.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":19,"column":22,"nodeType":"ObjectExpression","endLine":19,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { View, StyleSheet, TouchableOpacity } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport ChatList from './ChatList';\r\n// You might need an icon for the FAB\r\n// import Icon from 'react-native-vector-icons/MaterialIcons'; \r\n\r\ninterface GroupListProps {\r\n    groups: any[];\r\n    currentUserId: string | null;\r\n    onChatPress: (chatId: string) => void;\r\n    onCreateGroupPress: () => void;\r\n}\r\n\r\nconst GroupList: React.FC<GroupListProps> = ({ groups, currentUserId, onChatPress, onCreateGroupPress }) => {\r\n    const { theme } = useContext(ThemeContext);\r\n\r\n    return (\r\n        <View style={{ flex: 1 }}>\r\n            <ChatList\r\n                chats={groups}\r\n                currentUserId={currentUserId}\r\n                onChatPress={onChatPress}\r\n                emptyMessage=\"No groups found.\"\r\n            />\r\n\r\n            <TouchableOpacity\r\n                style={[styles.fab, { backgroundColor: theme.primary }]}\r\n                onPress={onCreateGroupPress}\r\n            >\r\n                {/* Placeholder for + icon if no icon lib available yet */}\r\n                <View style={styles.plusH} />\r\n                <View style={styles.plusV} />\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    fab: {\r\n        position: 'absolute',\r\n        bottom: 24,\r\n        right: 24,\r\n        width: 56,\r\n        height: 56,\r\n        borderRadius: 28,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        elevation: 6,\r\n        shadowColor: '#000',\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowOpacity: 0.3,\r\n        shadowRadius: 3,\r\n    },\r\n    plusH: {\r\n        position: 'absolute',\r\n        width: 24,\r\n        height: 4,\r\n        backgroundColor: '#fff',\r\n        borderRadius: 2\r\n    },\r\n    plusV: {\r\n        position: 'absolute',\r\n        width: 4,\r\n        height: 24,\r\n        backgroundColor: '#fff',\r\n        borderRadius: 2\r\n    }\r\n});\r\n\r\nexport default GroupList;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\StartupPost.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#070707', borderColor: '#0b0b0b' }","line":185,"column":36,"nodeType":"ObjectExpression","endLine":185,"endColumn":90,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":217,"column":59,"nodeType":"ObjectExpression","endLine":217,"endColumn":76,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"liked ? '#e74c3c' : '#ddd'\" }","line":279,"column":53,"nodeType":"ObjectExpression","endLine":279,"endColumn":90,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":280,"column":57,"nodeType":"ObjectExpression","endLine":280,"endColumn":74,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center', gap: 8 }","line":284,"column":76,"nodeType":"ObjectExpression","endLine":284,"endColumn":130,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ffd700' }","line":285,"column":64,"nodeType":"ObjectExpression","endLine":285,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":286,"column":65,"nodeType":"ObjectExpression","endLine":286,"endColumn":82,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":290,"column":64,"nodeType":"ObjectExpression","endLine":290,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":291,"column":65,"nodeType":"ObjectExpression","endLine":291,"endColumn":82,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center', gap: 8 }","line":296,"column":98,"nodeType":"ObjectExpression","endLine":296,"endColumn":152,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":297,"column":60,"nodeType":"ObjectExpression","endLine":297,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":298,"column":61,"nodeType":"ObjectExpression","endLine":298,"endColumn":78,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":301,"column":82,"nodeType":"ObjectExpression","endLine":301,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#ddd' }","line":301,"column":143,"nodeType":"ObjectExpression","endLine":301,"endColumn":160,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"saved ? '#3b82f6' : '#ddd'\" }","line":303,"column":56,"nodeType":"ObjectExpression","endLine":303,"endColumn":93,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\components\\TopNavbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\contexts\\ThemeContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\image.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\layout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\localImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\lib\\uploadImage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\ChatDetail.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8 }","line":198,"column":64,"nodeType":"ObjectExpression","endLine":198,"endColumn":78,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Chats.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderBottomWidth: 2 }","line":72,"column":70,"nodeType":"ObjectExpression","endLine":72,"endColumn":128,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderBottomWidth: 2 }","line":78,"column":71,"nodeType":"ObjectExpression","endLine":78,"endColumn":129,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 20 }","line":89,"column":82,"nodeType":"ObjectExpression","endLine":89,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\CreatePost.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { opacity: 'canShare ? 1 : 0.5' }","line":105,"column":49,"nodeType":"ObjectExpression","endLine":105,"endColumn":80,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\CreateReel.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { opacity: 'selectedVideo ? 1 : 0.5' }","line":110,"column":49,"nodeType":"ObjectExpression","endLine":110,"endColumn":85,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Home.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has a missing dependency: 'loadPosts'. Either include it or remove the dependency array.","line":55,"column":8,"nodeType":"ArrayExpression","endLine":55,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadPosts]","fix":{"range":[2164,2166],"text":"[loadPosts]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'loadPosts'. Either include it or remove the dependency array.","line":159,"column":8,"nodeType":"ArrayExpression","endLine":159,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadPosts]","fix":{"range":[6496,6498],"text":"[loadPosts]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\HottestStartups.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 3, borderColor: '#C0C0C0' }","line":74,"column":49,"nodeType":"ObjectExpression","endLine":74,"endColumn":136},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#E5E7EB' }","line":81,"column":54,"nodeType":"ObjectExpression","endLine":81,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderColor: '#FBBF24', borderWidth: 4 }","line":98,"column":52,"nodeType":"ObjectExpression","endLine":98,"endColumn":138},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#FDE68A' }","line":105,"column":60,"nodeType":"ObjectExpression","endLine":105,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 3, borderColor: '#CD7F32' }","line":122,"column":49,"nodeType":"ObjectExpression","endLine":122,"endColumn":135},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#FED7AA' }","line":129,"column":54,"nodeType":"ObjectExpression","endLine":129,"endColumn":84}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList, Dimensions, ActivityIndicator, RefreshControl } from 'react-native';\r\nimport { Image } from 'react-native';\r\nimport Icon from 'react-native-vector-icons/Feather';\r\nimport * as api from '../lib/api';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst { width } = Dimensions.get('window');\r\n\r\ntype StartupCard = any;\r\n\r\nconst HottestStartups = () => {\r\n    const [filterDay] = useState<'today' | '7days'>('today');\r\n    const [loading, setLoading] = useState(true);\r\n    const [topList, setTopList] = useState<StartupCard[]>([]);\r\n    const [refreshing, setRefreshing] = useState(false);\r\n    const { theme } = useContext(ThemeContext);\r\n\r\n    const CACHE_KEY = 'ATMOSPHERE_HOTTEST_STARTUPS_CACHE';\r\n\r\n    const loadStartups = async (isRefresh = false) => {\r\n        if (isRefresh) setLoading(true); // Optional: keep loading spinner for full refresh feel or just rely on RC\r\n\r\n        // Try cache first if not refreshing\r\n        if (!isRefresh) {\r\n            try {\r\n                const cached = await AsyncStorage.getItem(CACHE_KEY);\r\n                if (cached) {\r\n                    setTopList(JSON.parse(cached));\r\n                    setLoading(false);\r\n                }\r\n            } catch (e) { console.warn('HottestStartups: failed cache', e); }\r\n        }\r\n\r\n        // Fetch fresh\r\n        try {\r\n            const startups = await api.fetchHottestStartups(10);\r\n            if (startups) {\r\n                setTopList(startups);\r\n                AsyncStorage.setItem(CACHE_KEY, JSON.stringify(startups)).catch(() => { });\r\n            }\r\n        } catch (e) {\r\n            console.warn('HottestStartups: failed to fetch', e);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadStartups();\r\n    }, [filterDay]);\r\n\r\n    const onRefresh = async () => {\r\n        setRefreshing(true);\r\n        await loadStartups(true); // Force fetch\r\n        setRefreshing(false);\r\n    };\r\n\r\n    // legacy safe getters removed â€” using server-provided `weekCounts` now\r\n\r\n    const shortOf = (s: any) => s?.about || s?.tagline || s?.shortDescription || s?.description || s?.details?.about || s?.details?.tagline || s?.details?.shortDescription || '';\r\n\r\n    const renderPodium = () => {\r\n        const first = topList[0] || null;\r\n        const second = topList[1] || null;\r\n        const third = topList[2] || null;\r\n        const initialsOf = (s: any) => s?.initials || (s?.name ? s.name.split(' ').map((p: string) => p.charAt(0)).slice(0, 2).join('').toUpperCase() : (s?.companyName ? s.companyName.charAt(0).toUpperCase() : ''));\r\n        const avatarOf = (s: any) => s?.logo || s?.profileImage || s?.details?.profileImage || s?.user?.avatarUrl || s?.image || null;\r\n        return (\r\n            <View style={styles.podiumWrap}>\r\n                {/* 2nd */}\r\n                <View style={[styles.podiumItem, styles.podiumSecond]}>\r\n                    <View style={[styles.medal, { backgroundColor: second?.color || '#9CA3AF', borderWidth: 3, borderColor: '#C0C0C0' }]}>\r\n                        {avatarOf(second) ? (\r\n                            <Image source={{ uri: avatarOf(second) }} style={styles.podiumImage} />\r\n                        ) : (\r\n                            <Text style={styles.medalText}>{initialsOf(second)}</Text>\r\n                        )}\r\n                    </View>\r\n                    <View style={[styles.podiumBase, { backgroundColor: '#E5E7EB' }]}>\r\n                        <Text style={styles.podiumRank}>2</Text>\r\n                    </View>\r\n                    <View style={styles.podiumLabel}>\r\n                        <Text style={[styles.podiumName, { color: theme?.text }]} numberOfLines={1} ellipsizeMode=\"tail\">{second?.name ?? second?.companyName ?? second?.company?.name ?? 'â€”'}</Text>\r\n                        <Text style={[styles.shortDesc, { color: theme?.placeholder }]} numberOfLines={1} ellipsizeMode=\"tail\">{shortOf(second)}</Text>\r\n                        <View style={styles.likesRow}>\r\n                            <Icon name=\"award\" size={14} color=\"#F59E0B\" />\r\n                            <Text style={styles.likesText}>{second?.weekCounts?.crowns ?? second?.stats?.crowns ?? 0}</Text>\r\n                            <Icon name=\"heart\" size={14} color=\"#F472B6\" />\r\n                            <Text style={styles.likesText}>{second?.weekCounts?.likes ?? second?.stats?.likes ?? 0}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n\r\n                {/* 1st */}\r\n                <View style={styles.podiumItemCenter}>\r\n                    <View style={[styles.champion, { backgroundColor: first?.color || '#F59E0B', borderColor: '#FBBF24', borderWidth: 4 }]}>\r\n                        {avatarOf(first) ? (\r\n                            <Image source={{ uri: avatarOf(first) }} style={styles.championImage} />\r\n                        ) : (\r\n                            <Text style={styles.championText}>{initialsOf(first)}</Text>\r\n                        )}\r\n                    </View>\r\n                    <View style={[styles.podiumBaseCenter, { backgroundColor: '#FDE68A' }]}>\r\n                        <Text style={styles.podiumRankCenter}>1</Text>\r\n                    </View>\r\n                    <View style={styles.podiumLabelCenter}>\r\n                        <Text style={[styles.championName, { color: theme?.text }]} numberOfLines={1} ellipsizeMode=\"tail\">{first?.name ?? first?.companyName ?? first?.company?.name ?? 'â€”'}</Text>\r\n                        <Text style={[styles.shortDescCenter, { color: theme?.placeholder }]} numberOfLines={1} ellipsizeMode=\"tail\">{shortOf(first)}</Text>\r\n                        <View style={styles.likesRow}>\r\n                            <Icon name=\"award\" size={16} color=\"#F59E0B\" />\r\n                            <Text style={styles.likesText}>{first?.weekCounts?.crowns ?? first?.stats?.crowns ?? 0}</Text>\r\n                            <Icon name=\"heart\" size={16} color=\"#F472B6\" />\r\n                            <Text style={styles.likesText}>{first?.weekCounts?.likes ?? first?.stats?.likes ?? 0}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n\r\n                {/* 3rd */}\r\n                <View style={[styles.podiumItem, styles.podiumThird]}>\r\n                    <View style={[styles.medal, { backgroundColor: third?.color || '#FB923C', borderWidth: 3, borderColor: '#CD7F32' }]}>\r\n                        {avatarOf(third) ? (\r\n                            <Image source={{ uri: avatarOf(third) }} style={styles.podiumImage} />\r\n                        ) : (\r\n                            <Text style={styles.medalText}>{initialsOf(third)}</Text>\r\n                        )}\r\n                    </View>\r\n                    <View style={[styles.podiumBase, { backgroundColor: '#FED7AA' }]}>\r\n                        <Text style={styles.podiumRank}>3</Text>\r\n                    </View>\r\n                    <View style={styles.podiumLabel}>\r\n                        <Text style={[styles.podiumName, { color: theme?.text }]} numberOfLines={1} ellipsizeMode=\"tail\">{third?.name ?? third?.companyName ?? third?.company?.name ?? 'â€”'}</Text>\r\n                        <Text style={[styles.shortDesc, { color: theme?.placeholder }]} numberOfLines={1} ellipsizeMode=\"tail\">{shortOf(third)}</Text>\r\n                        <View style={styles.likesRow}>\r\n                            <Icon name=\"award\" size={14} color=\"#F59E0B\" />\r\n                            <Text style={styles.likesText}>{third?.weekCounts?.crowns ?? third?.stats?.crowns ?? 0}</Text>\r\n                            <Icon name=\"heart\" size={14} color=\"#F472B6\" />\r\n                            <Text style={styles.likesText}>{third?.weekCounts?.likes ?? third?.stats?.likes ?? 0}</Text>\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        );\r\n    };\r\n\r\n    const renderListItem = ({ item }: { item: any }) => (\r\n        <View style={styles.listCard}>\r\n            <View style={styles.listAvatar}>\r\n                {(item.logo || item.profileImage || item.details?.profileImage || item.user?.avatarUrl || item.image) ? (\r\n                    <Image source={{ uri: (item.logo || item.profileImage || item.details?.profileImage || item.user?.avatarUrl || item.image) }} style={styles.listImage} resizeMode=\"cover\" />\r\n                ) : (\r\n                    <Text style={styles.listInitials}>{item.initials || (item.name ? item.name.charAt(0).toUpperCase() : (item.companyName ? item.companyName.charAt(0).toUpperCase() : '?'))}</Text>\r\n                )}\r\n            </View>\r\n            <View style={styles.listBody}>\r\n                <Text style={[styles.listName, { color: theme?.text }]} numberOfLines={1} ellipsizeMode=\"tail\">{item.name || item.companyName || item.company?.name || 'â€”'}</Text>\r\n                <Text style={[styles.listTag, { color: theme?.placeholder }]} numberOfLines={1} ellipsizeMode=\"tail\">{shortOf(item)}</Text>\r\n                <View style={styles.likesRow}>\r\n                    <Icon name=\"award\" size={14} color=\"#F59E0B\" />\r\n                    <Text style={styles.likesText}>{item.weekCounts?.crowns ?? item.stats?.crowns ?? 0}</Text>\r\n                    <Icon name=\"heart\" size={14} color=\"#F472B6\" />\r\n                    <Text style={styles.likesText}>{item.weekCounts?.likes ?? item.stats?.likes ?? 0}</Text>\r\n                </View>\r\n            </View>\r\n            <TouchableOpacity style={styles.viewBtn} onPress={() => { /* navigate to profile */ }}>\r\n                <Text style={styles.viewBtnText}>View</Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n\r\n    // Use a single FlatList as the main scroll container to avoid nesting VirtualizedLists\r\n    if (loading) {\r\n        return (\r\n            <View style={[styles.container, styles.loadingWrap, { backgroundColor: theme?.background || '#fff' }]}>\r\n                <ActivityIndicator size=\"large\" color=\"#FB923C\" />\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <FlatList\r\n            data={topList.slice(3)}\r\n            keyExtractor={i => String(i._startupId || i.id || i._id)}\r\n            renderItem={renderListItem}\r\n            ItemSeparatorComponent={Separator}\r\n            contentContainerStyle={styles.content}\r\n            style={[styles.container, { backgroundColor: theme?.background || '#fff' }]}\r\n            ListHeaderComponent={Header({ theme, renderPodium })}\r\n            refreshControl={\r\n                <RefreshControl\r\n                    refreshing={refreshing}\r\n                    onRefresh={onRefresh}\r\n                    tintColor={theme?.primary || '#F59E0B'}\r\n                    title=\"Release to refresh\"\r\n                    titleColor={theme?.text || '#888'}\r\n                />\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nconst Separator = () => <View style={styles.separator} />;\r\n\r\nconst Header = ({ theme, renderPodium }: { theme: any; renderPodium: () => JSX.Element | null; }) => () => (\r\n    <>\r\n        <View style={styles.headerCenter}>\r\n            <Text style={[styles.heading, { color: theme?.text }]}>ðŸ”¥ Hottest Startups This Week</Text>\r\n            <Text style={[styles.sub, { color: theme?.placeholder }]}>Discover the top 10 most liked companies in the past 7 days.</Text>\r\n        </View>\r\n        {renderPodium()}\r\n        <View style={styles.headerSpacer} />\r\n    </>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, backgroundColor: '#0f1724' },\r\n    content: { padding: 16, paddingBottom: 40 },\r\n    headerCenter: { alignItems: 'center', marginBottom: 18 },\r\n    heading: { color: '#fff', fontSize: 20, fontWeight: '700', marginTop: 8 },\r\n    sub: { color: '#9CA3AF', fontSize: 12, textAlign: 'center', marginTop: 6, maxWidth: width - 40 },\r\n    podiumWrap: { flexDirection: 'row', alignItems: 'flex-end', justifyContent: 'center', gap: 18, marginVertical: 16 },\r\n    podiumItem: { width: 100, alignItems: 'center' },\r\n    podiumItemCenter: { width: 120, alignItems: 'center' },\r\n    podiumSecond: { transform: [{ translateY: 10 }] },\r\n    podiumThird: { transform: [{ translateY: 18 }] },\r\n    medal: { width: 80, height: 80, borderRadius: 16, alignItems: 'center', justifyContent: 'center', shadowColor: '#000', shadowOpacity: 0.3, elevation: 6 },\r\n    medalText: { color: '#fff', fontSize: 20, fontWeight: '800' },\r\n    champion: { width: 96, height: 96, borderRadius: 20, borderBottomLeftRadius: 25, borderBottomRightRadius: 25, alignItems: 'center', justifyContent: 'center', borderWidth: 4, borderColor: '#FBBF24', shadowColor: '#000', shadowOpacity: 0.35, elevation: 8 },\r\n    championText: { color: '#fff', fontSize: 26, fontWeight: '900' },\r\n    podiumBase: { width: 72, height: 32, borderBottomLeftRadius: 20, borderBottomRightRadius: 20, alignItems: 'center', justifyContent: 'center', marginTop: -10 },\r\n    podiumBaseCenter: { width: 88, height: 40, borderBottomLeftRadius: 16, borderBottomRightRadius: 16, alignItems: 'center', justifyContent: 'center', marginTop: -16 },\r\n    podiumRank: { fontWeight: '700', color: '#374151' },\r\n    podiumRankCenter: { fontWeight: '900', color: '#92400E', fontSize: 16 },\r\n    podiumLabel: { alignItems: 'center', marginTop: 8 },\r\n    podiumLabelCenter: { alignItems: 'center', marginTop: 8 },\r\n    podiumName: { color: '#fff', fontWeight: '700' },\r\n    championName: { color: '#fff', fontWeight: '900', fontSize: 16 },\r\n    podiumTag: { color: '#9CA3AF', fontSize: 12, maxWidth: 120 },\r\n    shortDesc: { color: '#9CA3AF', fontSize: 12, maxWidth: 120 },\r\n    shortDescCenter: { color: '#9CA3AF', fontSize: 12, maxWidth: 140, textAlign: 'center' },\r\n    likesRow: { flexDirection: 'row', alignItems: 'center', gap: 6, marginTop: 6 },\r\n    likesText: { color: '#F472B6', marginLeft: 6, fontSize: 12 },\r\n    listWrap: { marginTop: 20 },\r\n    listCard: { backgroundColor: '#0b1220', borderRadius: 12, padding: 12, flexDirection: 'row', alignItems: 'center' },\r\n    listAvatar: { width: 56, height: 56, borderRadius: 12, alignItems: 'center', justifyContent: 'center', overflow: 'hidden' },\r\n    listInitials: { color: '#fff', fontWeight: '800', textAlign: 'center' },\r\n    listImage: { width: 56, height: 56, borderRadius: 12, alignSelf: 'stretch' },\r\n    listBody: { flex: 1, marginLeft: 12 },\r\n    podiumImage: { width: 72, height: 72, borderRadius: 10 },\r\n    championImage: { width: 84, height: 84, borderRadius: 14 },\r\n    listName: { color: '#fff', fontWeight: '700', maxWidth: width - 160 },\r\n    listTag: { color: '#9CA3AF', fontSize: 12, maxWidth: width - 160 },\r\n    viewBtn: { borderWidth: 1, borderColor: '#1f2937', paddingVertical: 6, paddingHorizontal: 12, borderRadius: 999 },\r\n    viewBtnText: { color: '#fff', fontWeight: '700' }\r\n    , separator: { height: 12 },\r\n    loadingWrap: { justifyContent: 'center', alignItems: 'center' },\r\n    headerSpacer: { height: 12 }\r\n});\r\n\r\nexport default HottestStartups;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Jobs.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 12 }","line":48,"column":26,"nodeType":"ObjectExpression","endLine":48,"endColumn":46},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 16 }","line":65,"column":52,"nodeType":"ObjectExpression","endLine":65,"endColumn":70},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtreeâ€™s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component â€œJobsâ€ and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":409,"column":42,"nodeType":"ArrowFunctionExpression","endLine":416,"endColumn":22},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":411,"column":63,"nodeType":"ObjectExpression","endLine":411,"endColumn":80},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtreeâ€™s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component â€œJobsâ€ and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":417,"column":42,"nodeType":"ArrowFunctionExpression","endLine":422,"endColumn":22},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 60 }","line":480,"column":107,"nodeType":"ObjectExpression","endLine":480,"endColumn":202},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 60 }","line":493,"column":107,"nodeType":"ObjectExpression","endLine":493,"endColumn":202},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 60 }","line":505,"column":107,"nodeType":"ObjectExpression","endLine":505,"endColumn":202}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'theme' is assigned a value but never used.","line":11,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'tags' is assigned a value but never used.","line":14,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":15,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'api'. Either include it or remove the dependency array.","line":181,"column":8,"nodeType":"ArrayExpression","endLine":181,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [api]","fix":{"range":[9742,9744],"text":"[api]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'eventsRefreshed', 'grantsRefreshed', 'jobsRefreshed', 'loadEvents', 'loadGrants', and 'loadJobs'. Either include them or remove the dependency array.","line":269,"column":8,"nodeType":"ArrayExpression","endLine":269,"endColumn":36,"suggestions":[{"desc":"Update the dependencies array to be: [initialLoadDone, activeTab, jobsRefreshed, grantsRefreshed, eventsRefreshed, loadJobs, loadGrants, loadEvents]","fix":{"range":[13566,13594],"text":"[initialLoadDone, activeTab, jobsRefreshed, grantsRefreshed, eventsRefreshed, loadJobs, loadGrants, loadEvents]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useContext, useMemo } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, FlatList, Alert, Modal, TextInput, KeyboardAvoidingView, Platform, ActivityIndicator, Dimensions, RefreshControl } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { getBaseUrl } from '../lib/config';\r\n\r\nconst TABS = ['Jobs', 'Grants', 'Events'];\r\n\r\nfunction OpportunityCard({ item, type, onExpand, expanded }: { item: any, type: string, onExpand: () => void, expanded: boolean }) {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const { theme } = useContext(ThemeContext) as any;\r\n    const [showFullDesc, setShowFullDesc] = useState(false);\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    const tags = [item.sector, item.employmentType, item.locationType, item.companyType].filter(Boolean);\r\n\r\n    // The user explicitly requested a \"dark theme app\" experience matching a specific image.\r\n    // We force these \"Pitch Black\" styles regardless of the theme context's current mode\r\n    // to ensure the premium look is always visible.\r\n    const isDark = true; // Forced true per user requirement\r\n    const cardBg = '#000000'; // Pitch black\r\n    const borderColor = '#333';\r\n    const textColor = '#f2f2f2';\r\n    const subTextColor = '#888';\r\n    const badgeBg = '#333';\r\n    const applyBtnBg = '#333';\r\n    const applyBtnText = '#fff';\r\n\r\n    // Memoized styles to avoid inline style warnings\r\n    const titleRowStyle = useMemo(() => ({ flex: 1, marginRight: 8 }), []);\r\n    const metaItemLeftStyle = useMemo(() => ({ fontSize: 14, color: subTextColor }), [subTextColor]);\r\n    const metaItemRightStyle = useMemo(() => ({ marginLeft: 16, fontSize: 14, color: subTextColor }), [subTextColor]);\r\n    const expandedBgStyle = useMemo(() => ({ backgroundColor: isDark ? '#111' : '#f9f9f9', borderColor }), [isDark, borderColor]);\r\n\r\n    return (\r\n        <View style={[styles.card, { backgroundColor: cardBg, borderColor: borderColor }]}>\r\n            {/* Row 1: Title and Badge */}\r\n            <View style={styles.cardHeaderRow}>\r\n                <View style={titleRowStyle}>\r\n                    <Text style={[styles.cardTitle, { color: textColor }]} numberOfLines={1}>{item.title || item.roleTitle}</Text>\r\n                    <Text style={[styles.cardCompany, { color: subTextColor }]}>{item.poster?.displayName || item.startupName || item.organization || 'Unknown Organization'}</Text>\r\n                </View>\r\n                <View style={[styles.badge, { backgroundColor: badgeBg }]}>\r\n                    <Text style={[styles.badgeText, { color: textColor }]}>{type.toLowerCase()}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            {/* Row 2: Description */}\r\n            <View style={{ marginBottom: 12 }}>\r\n                <Text style={[styles.cardDesc, { color: subTextColor }]} numberOfLines={showFullDesc ? undefined : 2}>\r\n                    {item.requirements || item.description || 'No description provided.'}\r\n                </Text>\r\n                {(item.requirements?.length > 80 || item.description?.length > 80) && (\r\n                    <TouchableOpacity onPress={() => setShowFullDesc(!showFullDesc)}>\r\n                        <Text style={styles.moreLess}>{showFullDesc ? 'Less' : 'More'}</Text>\r\n                    </TouchableOpacity>\r\n                )}\r\n            </View>\r\n\r\n            {/* Row 3: Meta (Location, Date) */}\r\n            <View style={styles.metaRow}>\r\n                <View style={styles.metaItem}>\r\n                    <Text style={metaItemLeftStyle}>ðŸ“ {item.locationType || item.location || 'Remote'}</Text>\r\n                </View>\r\n                {item.deadline || item.date ? (\r\n                    <View style={[styles.metaItem, { marginLeft: 16 }]}>\r\n                        <Text style={metaItemRightStyle}>ðŸ“… {item.deadline || item.date}</Text>\r\n                    </View>\r\n                ) : null}\r\n            </View>\r\n\r\n            {/* Row 4: Bottom Action Bar (Price/Comp left, Apply right) */}\r\n            <View style={styles.actionRow}>\r\n                <Text style={[styles.compensationText, { color: textColor }]}>\r\n                    {item.compensation || item.amount || (type === 'Event' ? (item.time || 'Free') : 'Unpaid')}\r\n                </Text>\r\n\r\n                <TouchableOpacity style={[styles.applyBtn, { backgroundColor: applyBtnBg }]} onPress={onExpand}>\r\n                    <Text style={[styles.applyBtnText, { color: applyBtnText }]}>{expanded ? 'Hide' : 'Apply â†—'}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n            {/* Expanded Section */}\r\n            {expanded && (\r\n                <View style={[styles.expandedBox, expandedBgStyle]}>\r\n                    <Text style={[styles.expandedTitle, { color: textColor }]}>Application</Text>\r\n                    <Text style={[styles.expandedText, { color: subTextColor }]}>Answer custom questions and upload resume (UI coming soon)</Text>\r\n                    <TouchableOpacity style={styles.sendBtn} onPress={() => Alert.alert('Application sent!')}>\r\n                        <Text style={styles.sendBtnText}>Send Application</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            )}\r\n        </View>\r\n    );\r\n}\r\n\r\nconst Jobs = () => {\r\n    const { theme } = useContext(ThemeContext) as any;\r\n    const [activeTab, setActiveTab] = useState('Jobs');\r\n\r\n    // State for each tab\r\n    const [jobs, setJobs] = useState<any[]>([]);\r\n    const [jobsSkip, setJobsSkip] = useState(0);\r\n    const [jobsHasMore, setJobsHasMore] = useState(true);\r\n    const [jobsLoading, setJobsLoading] = useState(true);\r\n\r\n    const [grants, setGrants] = useState<any[]>([]);\r\n    const [grantsSkip, setGrantsSkip] = useState(0);\r\n    const [grantsHasMore, setGrantsHasMore] = useState(true);\r\n    const [grantsLoading, setGrantsLoading] = useState(true);\r\n    const [events, setEvents] = useState<any[]>([]);\r\n    const [eventsSkip, setEventsSkip] = useState(0);\r\n    const [eventsHasMore, setEventsHasMore] = useState(true);\r\n    const [eventsLoading, setEventsLoading] = useState(true);\r\n\r\n    const [expandedId, setExpandedId] = useState(null);\r\n    const [userRole, setUserRole] = useState('');\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [form, setForm] = useState({\r\n        // Jobs\r\n        title: '', sector: '', locationType: '', employmentType: '', compensation: '', requirements: '',\r\n        // Grants\r\n        name: '', organization: '', location: '', amount: '', deadline: '', type: '', description: '', url: '',\r\n        // Events\r\n        organizer: '', date: '', time: '',\r\n    });\r\n    const [postLoading, setPostLoading] = useState(false);\r\n    const [initialLoadDone, setInitialLoadDone] = useState(false);\r\n    // Track if we have already fetched fresh data for these tabs to avoid constant refetching on tab switch\r\n    const [jobsRefreshed, setJobsRefreshed] = useState(false);\r\n    const [grantsRefreshed, setGrantsRefreshed] = useState(false);\r\n    const [eventsRefreshed, setEventsRefreshed] = useState(false);\r\n    const [refreshing, setRefreshing] = useState(false);\r\n\r\n    const JOBS_LIMIT = 20;\r\n\r\n    // Memoized styles to avoid inline style warnings\r\n    const emptyLoaderStyle = useMemo(() => ({ width: Dimensions.get('window').width, alignItems: 'center', marginTop: 40 }), []);\r\n    const flatListContentStyle = useMemo(() => ({ paddingBottom: 80, paddingHorizontal: 16 }), []);\r\n    const filterButtonTextStyle = useMemo(() => ({ fontSize: 14, fontWeight: 'bold' }), []);\r\n    const loadMoreLoaderStyle = useMemo(() => ({ marginVertical: 20 }), []);\r\n    const containerBgStyle = useMemo(() => ({ backgroundColor: '#000000' }), []);\r\n    const tabBarBgStyle = useMemo(() => ({ backgroundColor: '#111' }), []);\r\n    const tabBtnActiveStyle = useMemo(() => ({ backgroundColor: '#333' }), []);\r\n    const tabTextActiveStyle = useMemo(() => ({ color: '#fff', fontWeight: 'bold' }), []);\r\n    const tabTextInactiveStyle = useMemo(() => ({ color: '#888', fontWeight: 'normal' }), []);\r\n\r\n    // API Helpers import\r\n    const api = require('../lib/api');\r\n\r\n    // Initial Load & Caching\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        (async () => {\r\n            try {\r\n                // Initialize cache and role in parallel\r\n                const loadCachePromise = Promise.all([\r\n                    AsyncStorage.getItem('ATMOSPHERE_JOBS_CACHE'),\r\n                    AsyncStorage.getItem('ATMOSPHERE_GRANTS_CACHE'),\r\n                    AsyncStorage.getItem('ATMOSPHERE_EVENTS_CACHE'),\r\n                ]);\r\n\r\n                // Try to fetch role, but don't block if it fails\r\n                const rolePromise = api.fetchAndStoreUserRole().catch(() => AsyncStorage.getItem('role'));\r\n\r\n                const [[cachedJobs, cachedGrants, cachedEvents], role] = await Promise.all([loadCachePromise, rolePromise]);\r\n\r\n                if (mounted) {\r\n                    if (role) setUserRole(role);\r\n                    if (cachedJobs) setJobs(JSON.parse(cachedJobs));\r\n                    if (cachedGrants) setGrants(JSON.parse(cachedGrants));\r\n                    if (cachedEvents) setEvents(JSON.parse(cachedEvents));\r\n                }\r\n            } catch (e) {\r\n                console.warn('Initialization error', e);\r\n            } finally {\r\n                if (mounted) setInitialLoadDone(true); // Always allow standard fetch to proceed\r\n            }\r\n        })();\r\n        return () => { mounted = false; };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // Fetch Lists\r\n    const loadJobs = async (skip = 0) => {\r\n        if (jobsLoading) return; // Prevent concurrent requests\r\n        if (skip === 0) setJobsLoading(true);\r\n        else setJobsLoading(true);\r\n        try {\r\n            const data = await api.fetchJobs(JOBS_LIMIT, skip);\r\n            if (skip === 0) {\r\n                setJobs(data);\r\n                AsyncStorage.setItem('ATMOSPHERE_JOBS_CACHE', JSON.stringify(data)).catch(() => { });\r\n                setJobsRefreshed(true);\r\n            } else {\r\n                // Deduplicate when appending\r\n                setJobs(prev => {\r\n                    const existingIds = new Set(prev.map(item => item._id || item.id));\r\n                    const newItems = data.filter(item => !existingIds.has(item._id || item.id));\r\n                    return [...prev, ...newItems];\r\n                });\r\n            }\r\n            setJobsHasMore(data.length >= JOBS_LIMIT);\r\n            setJobsSkip(skip + JOBS_LIMIT);\r\n        } catch (e) { console.warn('Jobs load fail', e); }\r\n        finally { setJobsLoading(false); }\r\n    };\r\n\r\n    const loadGrants = async (skip = 0) => {\r\n        if (grantsLoading) return; // Prevent concurrent requests\r\n        if (skip === 0) setGrantsLoading(true);\r\n        else setGrantsLoading(true);\r\n        try {\r\n            const data = await api.fetchGrants(JOBS_LIMIT, skip);\r\n            if (skip === 0) {\r\n                setGrants(data);\r\n                AsyncStorage.setItem('ATMOSPHERE_GRANTS_CACHE', JSON.stringify(data)).catch(() => { });\r\n                setGrantsRefreshed(true);\r\n            } else {\r\n                // Deduplicate when appending\r\n                setGrants(prev => {\r\n                    const existingIds = new Set(prev.map(item => item._id || item.id));\r\n                    const newItems = data.filter(item => !existingIds.has(item._id || item.id));\r\n                    return [...prev, ...newItems];\r\n                });\r\n            }\r\n            setGrantsHasMore(data.length >= JOBS_LIMIT);\r\n            setGrantsSkip(skip + JOBS_LIMIT);\r\n        } catch (e) { console.warn('Grants load fail', e); }\r\n        finally { setGrantsLoading(false); }\r\n    };\r\n\r\n    const loadEvents = async (skip = 0) => {\r\n        if (eventsLoading) return; // Prevent concurrent requests\r\n        if (skip === 0) setEventsLoading(true);\r\n        else setEventsLoading(true);\r\n        try {\r\n            const data = await api.fetchEvents(JOBS_LIMIT, skip);\r\n            if (skip === 0) {\r\n                setEvents(data);\r\n                AsyncStorage.setItem('ATMOSPHERE_EVENTS_CACHE', JSON.stringify(data)).catch(() => { });\r\n                setEventsRefreshed(true);\r\n            } else {\r\n                // Deduplicate when appending\r\n                setEvents(prev => {\r\n                    const existingIds = new Set(prev.map(item => item._id || item.id));\r\n                    const newItems = data.filter(item => !existingIds.has(item._id || item.id));\r\n                    return [...prev, ...newItems];\r\n                });\r\n            }\r\n            setEventsHasMore(data.length >= JOBS_LIMIT);\r\n            setEventsSkip(skip + JOBS_LIMIT);\r\n        } catch (e) { console.warn('Events load fail', e); }\r\n        finally { setEventsLoading(false); }\r\n    };\r\n\r\n    // Trigger initial fetches when cache check is done\r\n    // Trigger initial fetches based on active tab\r\n    useEffect(() => {\r\n        if (!initialLoadDone) return;\r\n\r\n        if (activeTab === 'Jobs' && !jobsRefreshed) {\r\n            loadJobs(0);\r\n        } else if (activeTab === 'Grants' && !grantsRefreshed) {\r\n            loadGrants(0);\r\n        } else if (activeTab === 'Events' && !eventsRefreshed) {\r\n            loadEvents(0);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [initialLoadDone, activeTab]);\r\n\r\n    // Only show plus icon for startups and investors\r\n    const showPlus = typeof userRole === 'string' && (userRole.toLowerCase() === 'startup' || userRole.toLowerCase() === 'investor');\r\n\r\n    const handlePlusPress = () => setModalVisible(true);\r\n    const handleFormChange = (key, value) => setForm(prev => ({ ...prev, [key]: value }));\r\n\r\n    const handleSubmit = async () => {\r\n        setPostLoading(true);\r\n        try {\r\n            const token = await AsyncStorage.getItem('token');\r\n            const baseUrl = await getBaseUrl();\r\n\r\n            let endpoint = '';\r\n            let payload = {};\r\n            if (activeTab === 'Jobs') {\r\n                endpoint = '/api/jobs';\r\n                payload = {\r\n                    title: form.title, sector: form.sector, locationType: form.locationType,\r\n                    employmentType: form.employmentType, compensation: form.compensation, requirements: form.requirements,\r\n                };\r\n            } else if (activeTab === 'Grants') {\r\n                endpoint = '/api/grants';\r\n                payload = {\r\n                    name: form.name, organization: form.organization, sector: form.sector, location: form.location,\r\n                    amount: form.amount, deadline: form.deadline, type: form.type, description: form.description, url: form.url,\r\n                };\r\n            } else if (activeTab === 'Events') {\r\n                endpoint = '/api/events';\r\n                payload = {\r\n                    name: form.name, organizer: form.organizer, location: form.location,\r\n                    date: form.date, time: form.time, description: form.description, url: form.url,\r\n                };\r\n            }\r\n\r\n            const res = await fetch(`${baseUrl}${endpoint} `, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token} ` },\r\n                body: JSON.stringify(payload),\r\n            });\r\n            if (!res.ok) throw new Error('Failed to post');\r\n\r\n            setModalVisible(false);\r\n            setForm({\r\n                title: '', sector: '', locationType: '', employmentType: '', compensation: '', requirements: '',\r\n                name: '', organization: '', location: '', amount: '', deadline: '', type: '', description: '', url: '', organizer: '', date: '', time: '',\r\n            });\r\n            Alert.alert('Success', `${activeTab.slice(0, -1)} posted successfully!`);\r\n\r\n            // Refresh current tab\r\n            if (activeTab === 'Jobs') loadJobs(0);\r\n            else if (activeTab === 'Grants') loadGrants(0);\r\n            else if (activeTab === 'Events') loadEvents(0);\r\n\r\n        } catch (e) {\r\n            Alert.alert('Error', e.message || 'Failed to post');\r\n        }\r\n        setPostLoading(false);\r\n    };\r\n\r\n    const { width } = Dimensions.get('window');\r\n    const flatListRef = React.useRef<FlatList>(null);\r\n\r\n    // Sync tab press with scroll\r\n    const handleTabPress = (tab: string, index: number) => {\r\n        setActiveTab(tab);\r\n        flatListRef.current?.scrollToIndex({ index, animated: true });\r\n    };\r\n\r\n    // Sync scroll with active tab state\r\n    const handleMomentumScrollEnd = (event: any) => {\r\n        const index = Math.round(event.nativeEvent.contentOffset.x / width);\r\n        const newTab = TABS[index];\r\n        if (newTab && newTab !== activeTab) {\r\n            setActiveTab(newTab);\r\n        }\r\n    };\r\n\r\n    // Generic list renderer for a specific tab\r\n    const renderTabContent = ({ item: tabName }: { item: string }) => {\r\n        let data: any[] = [];\r\n        let type = '';\r\n        let loading = false;\r\n\r\n        if (tabName === 'Jobs') {\r\n            data = jobs; type = 'Job'; loading = jobsLoading && jobs.length === 0;\r\n        } else if (tabName === 'Grants') {\r\n            data = grants; type = 'Grant'; loading = grantsLoading && grants.length === 0;\r\n        } else if (tabName === 'Events') {\r\n            data = events; type = 'Event'; loading = eventsLoading && events.length === 0;\r\n        }\r\n\r\n        const loadMoreCurrent = () => {\r\n            if (tabName === 'Jobs') { if (!jobsHasMore || jobsLoading) return; loadJobs(jobsSkip); }\r\n            else if (tabName === 'Grants') { if (!grantsHasMore || grantsLoading) return; loadGrants(grantsSkip); }\r\n            else if (tabName === 'Events') { if (!eventsHasMore || eventsLoading) return; loadEvents(eventsSkip); }\r\n        };\r\n\r\n        const onRefreshCurrent = async () => {\r\n            setRefreshing(true);\r\n            if (tabName === 'Jobs') await loadJobs(0);\r\n            else if (tabName === 'Grants') await loadGrants(0);\r\n            else if (tabName === 'Events') await loadEvents(0);\r\n            setRefreshing(false);\r\n        };\r\n\r\n        if (loading) {\r\n            return (\r\n                <View style={emptyLoaderStyle}>\r\n                    <ActivityIndicator size=\"large\" color={theme.primary} />\r\n                </View>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <View style={{ width }}>\r\n                <FlatList\r\n                    data={data}\r\n                    keyExtractor={(item) => String(item._id || item.id)}\r\n                    contentContainerStyle={flatListContentStyle}\r\n                    renderItem={({ item }) => (\r\n                        <OpportunityCard\r\n                            item={item}\r\n                            type={type}\r\n                            expanded={expandedId === (item._id || item.id)}\r\n                            onExpand={() => setExpandedId(expandedId === (item._id || item.id) ? null : (item._id || item.id))}\r\n                        />\r\n                    )}\r\n                    onEndReached={loadMoreCurrent}\r\n                    onEndReachedThreshold={0.5}\r\n                    refreshControl={\r\n                        <RefreshControl\r\n                            refreshing={refreshing}\r\n                            onRefresh={onRefreshCurrent}\r\n                            tintColor={theme.primary}\r\n                            title=\"Release to refresh\"\r\n                            titleColor={theme.text}\r\n                        />\r\n                    }\r\n                    ListHeaderComponent={() => (\r\n                        <View style={styles.listHeader}>\r\n                            <Text style={[styles.resultCount, { color: '#fff' }]}>Total {type.toLowerCase()}s: {data.length}</Text>\r\n                            <TouchableOpacity>\r\n                                <Text style={[filterButtonTextStyle, { color: theme.primary }]}>Filter</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    )}\r\n                    ListFooterComponent={() => {\r\n                        const isLoadingMore = (tabName === 'Jobs' && jobsLoading) || (tabName === 'Grants' && grantsLoading) || (tabName === 'Events' && eventsLoading);\r\n                        if (isLoadingMore && data.length > 0) return <ActivityIndicator style={loadMoreLoaderStyle} color={theme.primary} />;\r\n                        if (data.length === 0) return <Text style={styles.emptyText}>No {type.toLowerCase()}s found.</Text>;\r\n                        return null;\r\n                    }}\r\n                />\r\n            </View>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <View style={[styles.container, containerBgStyle]}>\r\n            <View style={[styles.tabBar, tabBarBgStyle]}>\r\n                {TABS.map((tab, index) => (\r\n                    <TouchableOpacity\r\n                        key={tab}\r\n                        style={[styles.tabBtn, activeTab === tab && tabBtnActiveStyle]}\r\n                        onPress={() => handleTabPress(tab, index)}\r\n                    >\r\n                        <Text style={[styles.tabText, activeTab === tab ? tabTextActiveStyle : tabTextInactiveStyle]}>{tab}</Text>\r\n                    </TouchableOpacity>\r\n                ))}\r\n            </View>\r\n\r\n            <FlatList\r\n                ref={flatListRef}\r\n                data={TABS}\r\n                keyExtractor={(item) => item}\r\n                horizontal\r\n                pagingEnabled\r\n                showsHorizontalScrollIndicator={false}\r\n                onMomentumScrollEnd={handleMomentumScrollEnd}\r\n                renderItem={renderTabContent}\r\n                initialScrollIndex={TABS.indexOf(activeTab)}\r\n                getItemLayout={(data, index) => ({ length: width, offset: width * index, index })}\r\n            />\r\n            {/* Modal and FAB remain unchanged below... */}\r\n\r\n            {/* Always show plus for now if role exists, or stick to logic but ensure zIndex */}\r\n            {/* Adding zIndex to style below */}\r\n            {showPlus && (\r\n                <TouchableOpacity style={styles.floatingPlus} onPress={handlePlusPress}>\r\n                    <Text style={styles.plusIcon}>ï¼‹</Text>\r\n                </TouchableOpacity>\r\n            )}\r\n            <Modal\r\n                visible={modalVisible}\r\n                animationType=\"slide\"\r\n                transparent\r\n                onRequestClose={() => setModalVisible(false)}\r\n            >\r\n                <KeyboardAvoidingView behavior={Platform.OS === 'ios' ? 'padding' : undefined} style={styles.modalContainer}>\r\n                    <View style={[styles.modalBox, { backgroundColor: theme.cardBackground }]}>\r\n                        <Text style={[styles.modalTitle, { color: theme.text }]}>Post a new {activeTab.slice(0, -1)}</Text>\r\n                        {/* Jobs Form */}\r\n                        {activeTab === 'Jobs' && (\r\n                            <>\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Title\" value={form.title} onChangeText={v => handleFormChange('title', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Sector\" value={form.sector} onChangeText={v => handleFormChange('sector', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Location Type\" value={form.locationType} onChangeText={v => handleFormChange('locationType', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Employment Type\" value={form.employmentType} onChangeText={v => handleFormChange('employmentType', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Compensation\" value={form.compensation} onChangeText={v => handleFormChange('compensation', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { height: 60, color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Requirements\" value={form.requirements} onChangeText={v => handleFormChange('requirements', v)} multiline />\r\n                            </>\r\n                        )}\r\n                        {/* Grants Form */}\r\n                        {activeTab === 'Grants' && (\r\n                            <>\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Name\" value={form.name} onChangeText={v => handleFormChange('name', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Organization\" value={form.organization} onChangeText={v => handleFormChange('organization', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Sector\" value={form.sector} onChangeText={v => handleFormChange('sector', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Location\" value={form.location} onChangeText={v => handleFormChange('location', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Amount\" value={form.amount} onChangeText={v => handleFormChange('amount', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Deadline (YYYY-MM-DD)\" value={form.deadline} onChangeText={v => handleFormChange('deadline', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Type (grant/incubator/accelerator)\" value={form.type} onChangeText={v => handleFormChange('type', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { height: 60, color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Description\" value={form.description} onChangeText={v => handleFormChange('description', v)} multiline />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"URL\" value={form.url} onChangeText={v => handleFormChange('url', v)} />\r\n                            </>\r\n                        )}\r\n                        {/* Events Form */}\r\n                        {activeTab === 'Events' && (\r\n                            <>\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Name\" value={form.name} onChangeText={v => handleFormChange('name', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Organizer\" value={form.organizer} onChangeText={v => handleFormChange('organizer', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Location\" value={form.location} onChangeText={v => handleFormChange('location', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Date (YYYY-MM-DD)\" value={form.date} onChangeText={v => handleFormChange('date', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Time (e.g. 18:00)\" value={form.time} onChangeText={v => handleFormChange('time', v)} />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { height: 60, color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"Description\" value={form.description} onChangeText={v => handleFormChange('description', v)} multiline />\r\n                                <TextInput placeholderTextColor={theme.placeholder} style={[styles.input, { color: theme.text, borderColor: theme.border, backgroundColor: theme.background }]} placeholder=\"URL\" value={form.url} onChangeText={v => handleFormChange('url', v)} />\r\n                            </>\r\n                        )}\r\n                        <View style={styles.modalActions}>\r\n                            <TouchableOpacity style={[styles.cancelBtn, { backgroundColor: theme.border }]} onPress={() => setModalVisible(false)} disabled={postLoading}>\r\n                                <Text style={[styles.cancelText, { color: theme.text }]}>Cancel</Text>\r\n                            </TouchableOpacity>\r\n                            <TouchableOpacity style={styles.submitBtn} onPress={handleSubmit} disabled={postLoading}>\r\n                                <Text style={styles.submitText}>{postLoading ? 'Posting...' : 'Submit'}</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                </KeyboardAvoidingView>\r\n            </Modal>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1, paddingTop: 16, paddingHorizontal: 0 }, // Removed paddingHorizontal for full width swipe\r\n    tabBar: { flexDirection: 'row', justifyContent: 'space-between', marginBottom: 12, borderRadius: 25, padding: 4, marginHorizontal: 12 }, // Moved margin to here\r\n    tabBtn: { flex: 1, paddingVertical: 10, borderRadius: 20, alignItems: 'center', justifyContent: 'center' },\r\n    tabText: { fontSize: 14 },\r\n    listHeader: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12, paddingHorizontal: 4 },\r\n    resultCount: { fontSize: 14, opacity: 0.7 },\r\n\r\n    // Card Styles\r\n    card: { borderRadius: 16, marginBottom: 16, padding: 16, borderWidth: 1 },\r\n    cardHeaderRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: 8 },\r\n    cardTitle: { fontSize: 16, fontWeight: 'bold', marginBottom: 4 },\r\n    cardCompany: { fontSize: 13 },\r\n    badge: { borderRadius: 16, paddingHorizontal: 10, paddingVertical: 4, alignSelf: 'flex-start' },\r\n    badgeText: { fontSize: 11, fontWeight: '600' },\r\n\r\n    cardDesc: { fontSize: 13, lineHeight: 18 },\r\n    moreLess: { color: '#007bff', fontSize: 12, marginTop: 4 },\r\n\r\n    metaRow: { flexDirection: 'row', alignItems: 'center', marginBottom: 16 },\r\n    metaItem: { flexDirection: 'row', alignItems: 'center' },\r\n\r\n    actionRow: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingTop: 12, borderTopWidth: 1, borderTopColor: 'rgba(255,255,255,0.1)' },\r\n    compensationText: { fontSize: 18, fontWeight: 'bold' },\r\n    applyBtn: { flexDirection: 'row', alignItems: 'center', paddingHorizontal: 16, paddingVertical: 8, borderRadius: 20, borderWidth: 1, borderColor: '#444' },\r\n    applyBtnText: { fontSize: 13, fontWeight: '600' },\r\n\r\n    expandedBox: { marginTop: 16, borderRadius: 12, padding: 16, borderWidth: 1 },\r\n    expandedTitle: { fontWeight: 'bold', marginBottom: 8, fontSize: 15 },\r\n    expandedText: { fontSize: 13, marginBottom: 16 },\r\n    sendBtn: { backgroundColor: '#28a745', borderRadius: 8, paddingVertical: 12, alignItems: 'center' },\r\n    sendBtnText: { color: '#fff', fontSize: 15, fontWeight: 'bold' },\r\n\r\n    // Empty & Loading\r\n    emptyText: { textAlign: 'center', color: '#888', marginTop: 32, fontSize: 16 },\r\n\r\n    // FAB\r\n    floatingPlus: {\r\n        position: 'absolute', right: 18, bottom: 24, backgroundColor: '#007bff', borderRadius: 28, width: 56, height: 56,\r\n        alignItems: 'center', justifyContent: 'center', elevation: 6, shadowColor: '#000', shadowOffset: { width: 0, height: 2 }, shadowOpacity: 0.2, shadowRadius: 4,\r\n        zIndex: 9999, // FIX: Ensure it sits above the list\r\n    },\r\n    plusIcon: { color: '#fff', fontSize: 32, fontWeight: 'bold', marginBottom: 2 },\r\n\r\n    // Modal\r\n    modalContainer: { flex: 1, justifyContent: 'center', alignItems: 'center', backgroundColor: 'rgba(0,0,0,0.7)' },\r\n    modalBox: { width: '90%', borderRadius: 16, padding: 20, elevation: 8 },\r\n    modalTitle: { fontSize: 18, fontWeight: 'bold', marginBottom: 16, textAlign: 'center' },\r\n    input: { borderWidth: 1, borderRadius: 10, padding: 12, marginBottom: 12, fontSize: 15 },\r\n    modalActions: { flexDirection: 'row', justifyContent: 'space-between', marginTop: 8 },\r\n    cancelBtn: { borderRadius: 10, paddingVertical: 12, paddingHorizontal: 20 },\r\n    cancelText: { fontSize: 15, fontWeight: '600' },\r\n    submitBtn: { backgroundColor: '#007bff', borderRadius: 10, paddingVertical: 12, paddingHorizontal: 24 },\r\n    submitText: { color: '#fff', fontSize: 15, fontWeight: 'bold' },\r\n});\r\n\r\nexport default Jobs;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\KycScreen.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { opacity: 'initialLoad ? 0 : 1' }","line":127,"column":49,"nodeType":"ObjectExpression","endLine":127,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\LandingPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Meetings.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":50,"column":30,"nodeType":"ObjectExpression","endLine":50,"endColumn":41,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8 }","line":57,"column":56,"nodeType":"ObjectExpression","endLine":57,"endColumn":99,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#999' }","line":67,"column":57,"nodeType":"ObjectExpression","endLine":67,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":70,"column":34,"nodeType":"ObjectExpression","endLine":70,"endColumn":70,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 24, alignItems: 'center' }","line":91,"column":18,"nodeType":"ObjectExpression","endLine":91,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8, color: '#999' }","line":93,"column":22,"nodeType":"ObjectExpression","endLine":93,"endColumn":53,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingHorizontal: 12, paddingVertical: 8 }","line":98,"column":48,"nodeType":"ObjectExpression","endLine":98,"endColumn":93,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: \"isActive ? '700' : '500'\", color: '#fff' }","line":99,"column":22,"nodeType":"ObjectExpression","endLine":99,"endColumn":77,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  height: 2,\n  backgroundColor: \"isActive ? '#fff' : 'transparent'\",\n  marginTop: 6\n}","line":100,"column":22,"nodeType":"ObjectExpression","endLine":100,"endColumn":101,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row' }","line":369,"column":30,"nodeType":"ObjectExpression","endLine":369,"endColumn":54,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":397,"column":26,"nodeType":"ObjectExpression","endLine":397,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":407,"column":60,"nodeType":"ObjectExpression","endLine":407,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":426,"column":60,"nodeType":"ObjectExpression","endLine":426,"endColumn":75,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Notifications.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\PostDetail.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 16 }","line":371,"column":63,"nodeType":"ObjectExpression","endLine":371,"endColumn":80}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, useContext } from 'react';\r\nimport { View, Text, Image, ActivityIndicator, StyleSheet, ScrollView, TouchableOpacity, FlatList, Dimensions, TextInput, SafeAreaView } from 'react-native';\r\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { getBaseUrl, DEFAULT_BASE_URL } from '../lib/config';\r\nimport { getImageSource } from '../lib/image';\r\nimport { BOTTOM_NAV_HEIGHT } from '../lib/layout';\r\n\r\ntype PostDetailProps = {\r\n  route: { params: { postId: string } };\r\n  navigation?: { goBack?: () => void };\r\n};\r\n\r\nconst PostDetail: React.FC<PostDetailProps & { onBackPress?: () => void }> = ({ route, navigation, onBackPress }) => {\r\n  const { theme } = useContext(ThemeContext);\r\n  const { postId } = route.params;\r\n  const [post, setPost] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [likeLoading, setLikeLoading] = useState(false);\r\n  const [shareLoading, setShareLoading] = useState(false);\r\n  const [liked, setLiked] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n  const [_shared, _setShared] = useState(false);\r\n  const [activeImage, setActiveImage] = useState(0);\r\n  const [comments, setComments] = useState<any[]>([]);\r\n  const [commentText, setCommentText] = useState('');\r\n  const [commentsLoading, setCommentsLoading] = useState(false);\r\n  const [commentSubmitting, setCommentSubmitting] = useState(false);\r\n  const [showComments, setShowComments] = useState(false);\r\n\r\n  const images: string[] = post?.media?.map((m: any) => m.url) || (post?.image ? [post.image] : []);\r\n  const windowWidth = Dimensions.get('window').width;\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n        const token = await AsyncStorage.getItem('token');\r\n        const headers: any = { 'Content-Type': 'application/json' };\r\n        if (token) headers.Authorization = `Bearer ${token}`;\r\n        const res = await fetch(`${base}/api/posts/${postId}`, { headers });\r\n        const data = await res.json();\r\n        const postData = data.post || data;\r\n        setPost(postData);\r\n        if (typeof postData.likedByUser === 'boolean') {\r\n          setLiked(postData.likedByUser);\r\n        }\r\n      } catch {\r\n        setPost(null);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchPost();\r\n  }, [postId]);\r\n\r\n  useEffect(() => {\r\n    if (!showComments) return;\r\n    const fetchComments = async () => {\r\n      setCommentsLoading(true);\r\n      try {\r\n        const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n        const token = await AsyncStorage.getItem('token');\r\n        const headers: any = { 'Content-Type': 'application/json' };\r\n        if (token) headers.Authorization = `Bearer ${token}`;\r\n        const res = await fetch(`${base}/api/comments/${postId}/comments`, { headers });\r\n        const data = await res.json();\r\n        setComments(data.comments || []);\r\n      } catch {\r\n        setComments([]);\r\n      }\r\n      setCommentsLoading(false);\r\n    };\r\n    fetchComments();\r\n  }, [postId, showComments]);\r\n\r\n  useEffect(() => {\r\n    const checkSaved = async () => {\r\n      try {\r\n        const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n        const token = await AsyncStorage.getItem('token');\r\n        const headers: any = { 'Content-Type': 'application/json' };\r\n        if (token) headers.Authorization = `Bearer ${token}`;\r\n        const res = await fetch(`${base}/api/saved/check/post/${postId}`, { headers });\r\n        const data = await res.json();\r\n        setSaved(data.saved || false);\r\n      } catch {\r\n        setSaved(false);\r\n      }\r\n    };\r\n    checkSaved();\r\n  }, [postId]);\r\n\r\n  useEffect(() => {\r\n    const checkShared = async () => {\r\n      try {\r\n        const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n        const token = await AsyncStorage.getItem('token');\r\n        const headers: any = { 'Content-Type': 'application/json' };\r\n        if (token) headers.Authorization = `Bearer ${token}`;\r\n        const res = await fetch(`${base}/api/shares/check/${postId}`, { headers });\r\n        const data = await res.json();\r\n        _setShared(data.shared || false);\r\n      } catch {\r\n        _setShared(false);\r\n      }\r\n    };\r\n    checkShared();\r\n  }, [postId]);\r\n\r\n  const handleLike = async () => {\r\n    if (likeLoading) return;\r\n    setLikeLoading(true);\r\n    try {\r\n      const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n      const token = await AsyncStorage.getItem('token');\r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n      let updatedLiked = liked;\r\n      let updatedLikesCount = post.likesCount || 0;\r\n      if (!liked) {\r\n        const res = await fetch(`${base}/api/posts/${postId}/like`, { method: 'POST', headers });\r\n        const data = await res.json();\r\n        updatedLiked = true;\r\n        updatedLikesCount = data.likes ?? data.likesCount ?? updatedLikesCount;\r\n      } else {\r\n        const res = await fetch(`${base}/api/posts/${postId}/like`, { method: 'DELETE', headers });\r\n        const data = await res.json();\r\n        updatedLiked = false;\r\n        updatedLikesCount = data.likes ?? data.likesCount ?? updatedLikesCount;\r\n      }\r\n      setLiked(updatedLiked);\r\n      setPost((prev: any) => ({ ...prev, likesCount: updatedLikesCount }));\r\n    } catch {\r\n      // Optionally show error\r\n    }\r\n    setLikeLoading(false);\r\n  };\r\n\r\n  const handleCommentSubmit = async () => {\r\n    if (!commentText.trim() || commentSubmitting) return;\r\n    setCommentSubmitting(true);\r\n    try {\r\n      const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n      const token = await AsyncStorage.getItem('token');\r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n      const res = await fetch(`${base}/api/comments/${postId}/comments`, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({ text: commentText })\r\n      });\r\n      const data = await res.json();\r\n      setComments((prev) => [data.comment || data, ...prev]);\r\n      const newCount = data?.commentsCount ?? data?.comments?.length ?? undefined;\r\n      setPost((prev: any) => ({ ...prev, commentsCount: typeof newCount === 'number' ? newCount : ((prev.commentsCount || 0) + 1) }));\r\n      setCommentText('');\r\n    } catch {\r\n      // Optionally show error\r\n    }\r\n    setCommentSubmitting(false);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n      const token = await AsyncStorage.getItem('token');\r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n\r\n      if (!saved) {\r\n        await fetch(`${base}/api/saved`, { method: 'POST', headers, body: JSON.stringify({ postId }) });\r\n        setSaved(true);\r\n      } else {\r\n        await fetch(`${base}/api/saved/${postId}`, { method: 'DELETE', headers });\r\n        setSaved(false);\r\n      }\r\n    } catch {\r\n      // Optionally handle error\r\n    }\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    if (shareLoading) return;\r\n    setShareLoading(true);\r\n    try {\r\n      const base = await getBaseUrl().catch(() => DEFAULT_BASE_URL);\r\n      const token = await AsyncStorage.getItem('token');\r\n      const headers: any = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n      const res = await fetch(`${base}/api/shares`, {\r\n        method: 'POST',\r\n        headers,\r\n        body: JSON.stringify({ postId })\r\n      });\r\n      const data = await res.json();\r\n      if (data.sharesCount !== undefined) {\r\n        setPost((prev: any) => ({ ...prev, sharesCount: data.sharesCount }));\r\n        _setShared(true);\r\n      }\r\n    } catch { }\r\n    setShareLoading(false);\r\n  };\r\n\r\n  const goBack = () => {\r\n    if (navigation && navigation.goBack) navigation.goBack();\r\n    else if (onBackPress) onBackPress();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <SafeAreaView style={[styles.container, { backgroundColor: theme.background }]}>\r\n        <View style={styles.loadingContainer}>\r\n          <ActivityIndicator size=\"large\" color={theme.primary} />\r\n        </View>\r\n      </SafeAreaView>\r\n    );\r\n  }\r\n\r\n  if (!post) {\r\n    return (\r\n      <SafeAreaView style={[styles.container, { backgroundColor: theme.background }]}>\r\n        <View style={styles.header}>\r\n          <TouchableOpacity onPress={goBack} style={styles.backBtn}>\r\n            <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.text} />\r\n          </TouchableOpacity>\r\n          <Text style={[styles.headerTitle, { color: theme.text }]}>Post</Text>\r\n          <View style={styles.headerRight} />\r\n        </View>\r\n        <View style={styles.centerContent}>\r\n          <Text style={{ color: theme.text }}>Post not found.</Text>\r\n        </View>\r\n      </SafeAreaView>\r\n    );\r\n  }\r\n\r\n  const authorName = post.author?.displayName || post.author?.username || 'Unknown';\r\n  const authorImage = post.author?.profileImage || post.author?.avatarUrl || 'https://via.placeholder.com/100x100.png?text=User';\r\n\r\n  return (\r\n    <SafeAreaView style={[styles.container, { backgroundColor: theme.background }]}>\r\n      {/* Header */}\r\n      <View style={[styles.header, { borderBottomColor: theme.border }]}>\r\n        <TouchableOpacity onPress={goBack} style={styles.backBtn}>\r\n          <MaterialCommunityIcons name=\"arrow-left\" size={24} color={theme.text} />\r\n        </TouchableOpacity>\r\n        <Text style={[styles.headerTitle, { color: theme.text }]}>Post</Text>\r\n        <TouchableOpacity onPress={handleSave} style={styles.headerRight}>\r\n          <MaterialCommunityIcons name={saved ? \"bookmark\" : \"bookmark-outline\"} size={24} color={theme.text} />\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      <ScrollView\r\n        style={styles.scrollView}\r\n        contentContainerStyle={{ paddingBottom: BOTTOM_NAV_HEIGHT + 80 }}\r\n        showsVerticalScrollIndicator={false}\r\n      >\r\n        {/* Author Row */}\r\n        <View style={styles.authorRow}>\r\n          <Image source={getImageSource(authorImage)} style={styles.authorAvatar} />\r\n          <View style={styles.authorInfo}>\r\n            <Text style={[styles.authorName, { color: theme.text }]}>{authorName}</Text>\r\n            {post.createdAt && (\r\n              <Text style={[styles.timestamp, { color: theme.placeholder }]}>\r\n                {new Date(post.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\r\n              </Text>\r\n            )}\r\n          </View>\r\n          <TouchableOpacity style={[styles.followBtn, { borderColor: theme.primary }]}>\r\n            <Text style={[styles.followBtnText, { color: theme.primary }]}>Follow</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Image Slider */}\r\n        {images.length > 0 && (\r\n          <>\r\n            <FlatList\r\n              data={images}\r\n              horizontal\r\n              pagingEnabled\r\n              showsHorizontalScrollIndicator={false}\r\n              keyExtractor={(_, idx) => `img-${idx}`}\r\n              renderItem={({ item }) => (\r\n                <View style={[styles.imageContainer, { width: windowWidth }]}>\r\n                  <Image\r\n                    source={getImageSource(item)}\r\n                    style={styles.postImage}\r\n                    resizeMode=\"cover\"\r\n                    onError={(e) => { console.warn('PostDetail image error', e.nativeEvent, item); }}\r\n                  />\r\n                </View>\r\n              )}\r\n              onMomentumScrollEnd={e => {\r\n                const index = Math.round(e.nativeEvent.contentOffset.x / windowWidth);\r\n                setActiveImage(index);\r\n              }}\r\n            />\r\n            {/* Image indicators */}\r\n            {images.length > 1 && (\r\n              <View style={styles.dotsRow}>\r\n                {images.map((_, idx) => (\r\n                  <View key={idx} style={[styles.dot, activeImage === idx && styles.dotActive]} />\r\n                ))}\r\n              </View>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <View style={[styles.actionsRow, { borderColor: theme.border }]}>\r\n          <TouchableOpacity style={styles.actionBtn} onPress={handleLike} disabled={likeLoading}>\r\n            <MaterialCommunityIcons name={liked ? \"heart\" : \"heart-outline\"} size={26} color={liked ? '#FF3B5C' : theme.text} />\r\n            <Text style={[styles.actionCount, { color: theme.text }]}>{post.likesCount || 0}</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity style={styles.actionBtn} onPress={() => setShowComments((v) => !v)}>\r\n            <MaterialCommunityIcons name=\"comment-outline\" size={26} color={showComments ? theme.primary : theme.text} />\r\n            <Text style={[styles.actionCount, { color: theme.text }]}>{post.commentsCount || 0}</Text>\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity style={styles.actionBtn} onPress={handleShare} disabled={shareLoading}>\r\n            <MaterialCommunityIcons name=\"share-outline\" size={26} color={theme.text} />\r\n            <Text style={[styles.actionCount, { color: theme.text }]}>{post.sharesCount || 0}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Content/Caption */}\r\n        {post.content && (\r\n          <View style={styles.contentContainer}>\r\n            <Text style={[styles.content, { color: theme.text }]}>{post.content}</Text>\r\n          </View>\r\n        )}\r\n\r\n        {/* Tags */}\r\n        {post.tags && post.tags.length > 0 && (\r\n          <View style={styles.tagsRow}>\r\n            {post.tags.map((tag: string, idx: number) => (\r\n              <View key={idx} style={[styles.tagChip, { backgroundColor: theme.cardBackground || '#1a1a1a' }]}>\r\n                <Text style={[styles.tagText, { color: theme.primary }]}>#{tag}</Text>\r\n              </View>\r\n            ))}\r\n          </View>\r\n        )}\r\n\r\n        {/* Comments Section */}\r\n        {showComments && (\r\n          <View style={[styles.commentsSection, { borderTopColor: theme.border }]}>\r\n            <Text style={[styles.commentsTitle, { color: theme.text }]}>Comments</Text>\r\n\r\n            {/* Comment Input */}\r\n            <View style={[styles.commentInputRow, { backgroundColor: theme.cardBackground || '#1a1a1a' }]}>\r\n              <TextInput\r\n                style={[styles.commentInput, { color: theme.text }]}\r\n                placeholder=\"Add a comment...\"\r\n                placeholderTextColor={theme.placeholder}\r\n                value={commentText}\r\n                onChangeText={setCommentText}\r\n                editable={!commentSubmitting}\r\n              />\r\n              <TouchableOpacity\r\n                onPress={handleCommentSubmit}\r\n                disabled={commentSubmitting || !commentText.trim()}\r\n                style={[styles.sendBtn, { backgroundColor: commentText.trim() ? theme.primary : theme.border }]}\r\n              >\r\n                <MaterialCommunityIcons name=\"send\" size={18} color={commentText.trim() ? '#fff' : theme.placeholder} />\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            {/* Comments List */}\r\n            {commentsLoading ? (\r\n              <ActivityIndicator color={theme.primary} style={{ marginTop: 16 }} />\r\n            ) : (\r\n              comments.length === 0 ? (\r\n                <Text style={[styles.noComments, { color: theme.placeholder }]}>No comments yet. Be the first to comment!</Text>\r\n              ) : (\r\n                comments.map((c, idx) => (\r\n                  <View key={c._id || idx} style={styles.commentRow}>\r\n                    <Image source={getImageSource(c.author?.avatarUrl || 'https://via.placeholder.com/40x40.png?text=U')} style={styles.commentAvatar} />\r\n                    <View style={styles.commentContent}>\r\n                      <View style={styles.commentHeader}>\r\n                        <Text style={[styles.commentAuthor, { color: theme.text }]}>{c.author?.displayName || c.author?.username || 'User'}</Text>\r\n                        <Text style={[styles.commentTime, { color: theme.placeholder }]}>\r\n                          {new Date(c.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\r\n                        </Text>\r\n                      </View>\r\n                      <Text style={[styles.commentText, { color: theme.text }]}>{c.text}</Text>\r\n                    </View>\r\n                  </View>\r\n                ))\r\n              )\r\n            )}\r\n          </View>\r\n        )}\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  loadingContainer: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  centerContent: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    borderBottomWidth: StyleSheet.hairlineWidth,\r\n  },\r\n  backBtn: {\r\n    width: 40,\r\n    height: 40,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  headerTitle: {\r\n    fontSize: 18,\r\n    fontWeight: '600',\r\n  },\r\n  headerRight: {\r\n    width: 40,\r\n    height: 40,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  authorRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: 16,\r\n  },\r\n  authorAvatar: {\r\n    width: 44,\r\n    height: 44,\r\n    borderRadius: 22,\r\n    backgroundColor: '#333',\r\n  },\r\n  authorInfo: {\r\n    flex: 1,\r\n    marginLeft: 12,\r\n  },\r\n  authorName: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n  },\r\n  timestamp: {\r\n    fontSize: 13,\r\n    marginTop: 2,\r\n  },\r\n  followBtn: {\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 6,\r\n    borderRadius: 20,\r\n    borderWidth: 1.5,\r\n  },\r\n  followBtnText: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  imageContainer: {\r\n    aspectRatio: 1,\r\n    backgroundColor: '#1a1a1a',\r\n  },\r\n  postImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  dotsRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingVertical: 12,\r\n  },\r\n  dot: {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: 4,\r\n    backgroundColor: '#555',\r\n    marginHorizontal: 4,\r\n  },\r\n  dotActive: {\r\n    backgroundColor: '#1FADFF',\r\n    width: 24,\r\n  },\r\n  actionsRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 16,\r\n    paddingVertical: 12,\r\n    gap: 24,\r\n  },\r\n  actionBtn: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 6,\r\n  },\r\n  actionCount: {\r\n    fontSize: 14,\r\n    fontWeight: '500',\r\n  },\r\n  contentContainer: {\r\n    paddingHorizontal: 16,\r\n    paddingBottom: 12,\r\n  },\r\n  content: {\r\n    fontSize: 15,\r\n    lineHeight: 22,\r\n  },\r\n  tagsRow: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    paddingHorizontal: 16,\r\n    gap: 8,\r\n    marginBottom: 16,\r\n  },\r\n  tagChip: {\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 6,\r\n    borderRadius: 16,\r\n  },\r\n  tagText: {\r\n    fontSize: 13,\r\n    fontWeight: '500',\r\n  },\r\n  commentsSection: {\r\n    paddingHorizontal: 16,\r\n    paddingTop: 16,\r\n    borderTopWidth: StyleSheet.hairlineWidth,\r\n  },\r\n  commentsTitle: {\r\n    fontSize: 16,\r\n    fontWeight: '700',\r\n    marginBottom: 16,\r\n  },\r\n  commentInputRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderRadius: 24,\r\n    paddingLeft: 16,\r\n    paddingRight: 4,\r\n    paddingVertical: 4,\r\n  },\r\n  commentInput: {\r\n    flex: 1,\r\n    fontSize: 14,\r\n    paddingVertical: 8,\r\n  },\r\n  sendBtn: {\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 18,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  noComments: {\r\n    textAlign: 'center',\r\n    marginTop: 24,\r\n    marginBottom: 16,\r\n    fontSize: 14,\r\n  },\r\n  commentRow: {\r\n    flexDirection: 'row',\r\n    marginTop: 16,\r\n  },\r\n  commentAvatar: {\r\n    width: 36,\r\n    height: 36,\r\n    borderRadius: 18,\r\n    backgroundColor: '#333',\r\n  },\r\n  commentContent: {\r\n    flex: 1,\r\n    marginLeft: 12,\r\n  },\r\n  commentHeader: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  },\r\n  commentAuthor: {\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n  },\r\n  commentTime: {\r\n    fontSize: 12,\r\n  },\r\n  commentText: {\r\n    fontSize: 14,\r\n    lineHeight: 20,\r\n    marginTop: 4,\r\n  },\r\n});\r\n\r\nexport default PostDetail;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Profile.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'data' and 'refreshing'. Either include them or remove the dependency array.","line":198,"column":8,"nodeType":"ArrayExpression","endLine":198,"endColumn":86,"suggestions":[{"desc":"Update the dependencies array to be: [viewingUserId, ownProfileId, routeUserId, routeStartupDetailsId, forceUpdate, refreshing, data]","fix":{"range":[9471,9549],"text":"[viewingUserId, ownProfileId, routeUserId, routeStartupDetailsId, forceUpdate, refreshing, data]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'posts.length', 'refreshing', and 'routeUserId'. Either include them or remove the dependency array.","line":256,"column":8,"nodeType":"ArrayExpression","endLine":256,"endColumn":36,"suggestions":[{"desc":"Update the dependencies array to be: [viewingUserId, forceUpdate, routeUserId, refreshing, posts.length]","fix":{"range":[12056,12084],"text":"[viewingUserId, forceUpdate, routeUserId, refreshing, posts.length]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":378,"column":22,"nodeType":"ObjectExpression","endLine":378,"endColumn":33,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'center', justifyContent: 'center' }","line":407,"column":71,"nodeType":"ObjectExpression","endLine":407,"endColumn":121,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontSize: 28, fontWeight: '700' }","line":408,"column":54,"nodeType":"ObjectExpression","endLine":408,"endColumn":104,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: \"isFollowing ? '#111' : 'transparent'\" }","line":430,"column":59,"nodeType":"ObjectExpression","endLine":430,"endColumn":143,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":452,"column":69,"nodeType":"ObjectExpression","endLine":452,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Reels.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\SavedPosts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Search.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 20 }","line":244,"column":29,"nodeType":"ObjectExpression","endLine":244,"endColumn":43}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useCallback has missing dependencies: 'loadExplore' and 'performSearch'. Either include them or remove the dependency array.","line":49,"column":8,"nodeType":"ArrayExpression","endLine":49,"endColumn":26,"suggestions":[{"desc":"Update the dependencies array to be: [query, performSearch, activeTab, loadExplore]","fix":{"range":[2122,2140],"text":"[query, performSearch, activeTab, loadExplore]"}}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has a missing dependency: 'loadExplore'. Either include it or remove the dependency array.","line":72,"column":8,"nodeType":"ArrayExpression","endLine":72,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [loadExplore]","fix":{"range":[2929,2931],"text":"[loadExplore]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useContext, useCallback, useRef } from 'react';\r\nimport { View, TextInput, FlatList, ActivityIndicator, StyleSheet, Text, TouchableOpacity, ScrollView, Image, Dimensions, RefreshControl } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { getImageSource } from '../lib/image';\r\nimport { fetchExplorePosts, searchEntities, searchUsers } from '../lib/api';\r\n\r\nconst { width } = Dimensions.get('window');\r\nconst ITEM_SIZE = (width - 4) / 3; // 3 columns with 2px gaps\r\n\r\ntype TabType = 'explore' | 'posts' | 'startups' | 'investors' | 'personal';\r\n\r\ntype SearchScreenProps = {\r\n    onPostPress?: (postId: string) => void;\r\n};\r\n\r\nconst PAGE_SIZE = 15;\r\nconst EXPLORE_CACHE_KEY = 'ATMOSPHERE_EXPLORE_FEED_CACHE';\r\n\r\nconst SearchScreen: React.FC<SearchScreenProps> = ({ onPostPress }) => {\r\n    const { theme } = useContext(ThemeContext);\r\n    const [query, setQuery] = useState('');\r\n    const [activeTab, setActiveTab] = useState<TabType>('explore');\r\n\r\n    // Explore Feed State\r\n    const [explorePosts, setExplorePosts] = useState<any[]>([]);\r\n    const [exploreSkip, setExploreSkip] = useState(0);\r\n    const [exploreLoading, setExploreLoading] = useState(false);\r\n    const [exploreHasMore, setExploreHasMore] = useState(true);\r\n\r\n    // Search Results State\r\n    const [searchResults, setSearchResults] = useState<any[]>([]);\r\n    const [searchSkip, setSearchSkip] = useState(0);\r\n    const [searchLoading, setSearchLoading] = useState(false);\r\n    const [searchHasMore, setSearchHasMore] = useState(true);\r\n\r\n    const [initialLoadDone, setInitialLoadDone] = useState(false);\r\n    const [refreshing, setRefreshing] = useState(false);\r\n\r\n    const onRefresh = useCallback(async () => {\r\n        setRefreshing(true);\r\n        if (query.trim()) {\r\n            await performSearch(query, activeTab, true);\r\n        } else {\r\n            await loadExplore(true);\r\n        }\r\n        setRefreshing(false);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [query, activeTab]);\r\n\r\n    // Debounce Search\r\n    const searchTimeout = useRef<ReturnType<typeof setTimeout> | null>(null);\r\n\r\n    // Initial Load & Cache\r\n    useEffect(() => {\r\n        const loadCache = async () => {\r\n            try {\r\n                const cached = await AsyncStorage.getItem(EXPLORE_CACHE_KEY);\r\n                if (cached) {\r\n                    const data = JSON.parse(cached);\r\n                    setExplorePosts(data);\r\n                    setExploreSkip(data.length);\r\n                    setInitialLoadDone(true);\r\n                }\r\n            } catch (e) {\r\n                console.warn('Failed to load explore cache', e);\r\n            }\r\n        };\r\n        loadCache();\r\n        loadExplore(true);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const loadExplore = async (reset = false) => {\r\n        if (exploreLoading) return;\r\n        if (!reset && !exploreHasMore) return;\r\n\r\n        setExploreLoading(true);\r\n        try {\r\n            const skip = reset ? 0 : exploreSkip;\r\n            const data = await fetchExplorePosts(PAGE_SIZE, skip);\r\n\r\n            if (reset) {\r\n                setExplorePosts(data);\r\n                setExploreSkip(data.length);\r\n                if (data.length > 0) {\r\n                    AsyncStorage.setItem(EXPLORE_CACHE_KEY, JSON.stringify(data)).catch(() => { });\r\n                }\r\n            } else {\r\n                setExplorePosts(prev => [...prev, ...data]);\r\n                setExploreSkip(prev => prev + data.length);\r\n            }\r\n\r\n            setExploreHasMore(data.length >= PAGE_SIZE); // Simple check\r\n            setInitialLoadDone(true);\r\n        } catch (err) {\r\n            console.warn('Explore load error', err);\r\n        } finally {\r\n            setExploreLoading(false);\r\n        }\r\n    };\r\n\r\n    const performSearch = async (text: string, tab: TabType, reset = false) => {\r\n        if (!text.trim()) return;\r\n        if (searchLoading && !reset) return;\r\n        if (!reset && !searchHasMore) return;\r\n\r\n        setSearchLoading(true);\r\n        try {\r\n            const skip = reset ? 0 : searchSkip;\r\n            let data: any[] = [];\r\n\r\n            // Map tabs to API calls\r\n            if (tab === 'posts') {\r\n                const res = await searchEntities(text, 'posts', PAGE_SIZE, skip);\r\n                data = res.posts || [];\r\n            } else if (tab === 'startups') {\r\n                // Combine companies and startup users?\r\n                // For simplified pagination, just fetch companies for now. \r\n                // Or fetch both parallel if skip=0? No, messes up pagination cursor.\r\n                // Let's rely on Backend 'companies' type which usually means Startup Profiles.\r\n                const res = await searchEntities(text, 'companies', PAGE_SIZE, skip);\r\n                data = res.companies || [];\r\n            } else if (tab === 'investors') {\r\n                data = await searchUsers(text, 'investor', PAGE_SIZE, skip);\r\n            } else if (tab === 'personal') {\r\n                // Backend doesn't support 'not role' easily, so we search users and maybe client filter?\r\n                // Or just search all users.\r\n                data = await searchUsers(text, undefined, PAGE_SIZE, skip);\r\n            }\r\n\r\n            if (reset) {\r\n                setSearchResults(data);\r\n                setSearchSkip(data.length);\r\n            } else {\r\n                setSearchResults(prev => [...prev, ...data]);\r\n                setSearchSkip(prev => prev + data.length);\r\n            }\r\n            setSearchHasMore(data.length >= PAGE_SIZE);\r\n\r\n        } catch (err) {\r\n            console.warn('Search error', err);\r\n        } finally {\r\n            setSearchLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSearchTextChange = (text: string) => {\r\n        setQuery(text);\r\n        if (searchTimeout.current) clearTimeout(searchTimeout.current);\r\n\r\n        if (!text.trim()) {\r\n            setSearchResults([]);\r\n            setActiveTab('explore');\r\n            return;\r\n        }\r\n\r\n        // Debounce\r\n        searchTimeout.current = setTimeout(() => {\r\n            // When query changes, switch to 'posts' if currently 'explore', else keep current tab\r\n            const targetTab = activeTab === 'explore' ? 'posts' : activeTab;\r\n            if (activeTab === 'explore') setActiveTab('posts');\r\n            setSearchResults([]);\r\n            setSearchSkip(0);\r\n            setSearchHasMore(true);\r\n            performSearch(text, targetTab, true);\r\n        }, 500);\r\n    };\r\n\r\n    const handleTabChange = (tab: TabType) => {\r\n        setActiveTab(tab);\r\n        if (query.trim()) {\r\n            setSearchResults([]);\r\n            setSearchSkip(0);\r\n            setSearchHasMore(true);\r\n            performSearch(query, tab, true);\r\n        }\r\n    };\r\n\r\n    const loadMore = () => {\r\n        if (!query.trim()) {\r\n            loadExplore(false);\r\n        } else {\r\n            performSearch(query, activeTab, false);\r\n        }\r\n    };\r\n\r\n    const currentData = query.trim() ? searchResults : explorePosts;\r\n    const isGrid = !query.trim() || activeTab === 'posts';\r\n\r\n    const renderItem = ({ item, index: _index }: { item: any, index: number }) => {\r\n        // Posts (Grid)\r\n        if (isGrid) {\r\n            const imgUri = item.media?.[0]?.url || item.image || item.thumbUrl || 'https://via.placeholder.com/400x400.png?text=Post';\r\n            return (\r\n                <TouchableOpacity\r\n                    style={styles.gridItem}\r\n                    activeOpacity={0.9}\r\n                    onPress={() => onPostPress && (onPostPress(item._id || item.id))}\r\n                >\r\n                    <Image\r\n                        source={getImageSource(imgUri)}\r\n                        style={styles.gridImage}\r\n                        resizeMode=\"cover\"\r\n                        onError={(e) => console.warn('Search img err', e.nativeEvent)}\r\n                    />\r\n                    {item.meta?.postType === 'reel' && (\r\n                        <View style={styles.reelBadge}>\r\n                            <Text style={styles.reelIcon}>â–¶</Text>\r\n                        </View>\r\n                    )}\r\n                </TouchableOpacity>\r\n            );\r\n        }\r\n\r\n        // Startups (List)\r\n        if (activeTab === 'startups') {\r\n            const displayName = item.name || item.displayName || item.username || item.companyName || 'Startup';\r\n            return (\r\n                <View style={[styles.feedItem, { borderBottomColor: theme.border }]}>\r\n                    <Text style={[styles.feedTitle, { color: theme.text }]}>ðŸ¢ {displayName}</Text>\r\n                    {item.description && (\r\n                        <Text style={[styles.feedText, { color: theme.placeholder }]} numberOfLines={2}>{item.description}</Text>\r\n                    )}\r\n                </View>\r\n            );\r\n        }\r\n\r\n        // Users (List)\r\n        return (\r\n            <View style={[styles.feedItem, { borderBottomColor: theme.border }]}>\r\n                <Text style={[styles.feedTitle, { color: theme.text }]}>ðŸ‘¤ {item.displayName || item.username}</Text>\r\n                <Text style={[styles.feedText, { color: theme.placeholder }]}>@{item.username}</Text>\r\n                {item.bio && <Text style={[styles.feedText, { color: theme.placeholder }]} numberOfLines={2}>{item.bio}</Text>}\r\n                {item.verified && <Text style={[styles.feedStats, { color: theme.primary }]}>âœ“ Verified</Text>}\r\n            </View>\r\n        );\r\n    };\r\n\r\n    const renderFooter = () => {\r\n        if ((!query.trim() && exploreLoading) || (query.trim() && searchLoading)) {\r\n            return <ActivityIndicator style={styles.loader} color={theme.primary} />;\r\n        }\r\n        return <View style={{ height: 20 }} />;\r\n    };\r\n\r\n    return (\r\n        <View style={[styles.container, { backgroundColor: theme.background }]}>\r\n            <View style={styles.searchBarContainer}>\r\n                <TextInput\r\n                    style={[styles.input, { color: theme.text, borderColor: theme.border }]}\r\n                    placeholder=\"Search posts, startups, people...\"\r\n                    placeholderTextColor={theme.placeholder}\r\n                    value={query}\r\n                    onChangeText={handleSearchTextChange}\r\n                />\r\n            </View>\r\n\r\n            {query.trim() !== '' && (\r\n                <View style={[styles.tabsContainer, { borderBottomColor: theme.border }]}>\r\n                    <ScrollView horizontal showsHorizontalScrollIndicator={false}>\r\n                        {(['posts', 'startups', 'investors', 'personal'] as TabType[]).map((tab) => (\r\n                            <TouchableOpacity\r\n                                key={tab}\r\n                                style={[styles.tab, activeTab === tab && { borderBottomColor: theme.primary }]}\r\n                                onPress={() => handleTabChange(tab)}\r\n                            >\r\n                                <Text style={[styles.tabText, { color: activeTab === tab ? theme.primary : theme.placeholder }]}>\r\n                                    {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </ScrollView>\r\n                </View>\r\n            )}\r\n\r\n            <FlatList\r\n                key={isGrid ? 'grid' : 'list'}\r\n                data={currentData}\r\n                numColumns={isGrid ? 3 : 1}\r\n                keyExtractor={(item, _idx) => (item._id || item.id || String(_idx))}\r\n                renderItem={renderItem}\r\n                onEndReached={loadMore}\r\n                onEndReachedThreshold={0.5}\r\n                ListFooterComponent={renderFooter}\r\n                contentContainerStyle={isGrid ? styles.gridContent : styles.listContent}\r\n                ListEmptyComponent={\r\n                    !searchLoading && !exploreLoading && initialLoadDone ? (\r\n                        <View style={styles.emptyContainer}>\r\n                            <Text style={[styles.emptyText, { color: theme.placeholder }]}>\r\n                                {query.trim() ? `No ${activeTab} found` : 'No posts found'}\r\n                            </Text>\r\n                        </View>\r\n                    ) : null\r\n                }\r\n                refreshControl={\r\n                    <RefreshControl\r\n                        refreshing={refreshing}\r\n                        onRefresh={onRefresh}\r\n                        tintColor={theme.primary}\r\n                        title=\"Release to refresh\"\r\n                        titleColor={theme.text}\r\n                    />\r\n                }\r\n            />\r\n        </View>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    container: { flex: 1 },\r\n    searchBarContainer: { padding: 12, paddingTop: 8 },\r\n    input: { borderWidth: 1, borderRadius: 24, padding: 12, fontSize: 16, paddingHorizontal: 16 },\r\n    tabsContainer: { borderBottomWidth: 1, paddingHorizontal: 0 },\r\n    tab: { paddingHorizontal: 12, paddingVertical: 12, borderBottomWidth: 2, borderBottomColor: 'transparent', minWidth: 80, alignItems: 'center' },\r\n    tabText: { fontSize: 13, fontWeight: '500' },\r\n    loader: { margin: 20 },\r\n    gridContent: { paddingHorizontal: 1 },\r\n    gridItem: { width: ITEM_SIZE, height: ITEM_SIZE, margin: 1, borderRadius: 4, overflow: 'hidden', backgroundColor: '#e0e0e0', position: 'relative' },\r\n    gridImage: { width: '100%', height: '100%', backgroundColor: '#f0f0f0' },\r\n    reelBadge: { position: 'absolute', top: 4, right: 4, backgroundColor: 'rgba(0,0,0,0.6)', borderRadius: 4, paddingHorizontal: 6, paddingVertical: 2 },\r\n    reelIcon: { color: '#fff', fontSize: 10, fontWeight: 'bold' },\r\n    listContent: { paddingHorizontal: 8, paddingTop: 8 },\r\n    feedItem: { padding: 12, borderBottomWidth: 1, marginBottom: 4, marginHorizontal: 4, borderRadius: 8 },\r\n    feedTitle: { fontSize: 16, fontWeight: '600', marginBottom: 4 },\r\n    feedText: { fontSize: 14, lineHeight: 20, marginBottom: 8 },\r\n    feedStats: { fontSize: 12, fontWeight: '500' },\r\n    emptyContainer: { flex: 1, alignItems: 'center', justifyContent: 'center', paddingVertical: 80 },\r\n    emptyText: { fontSize: 14 },\r\n});\r\n\r\nexport default SearchScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\SetupProfile.tsx","messages":[{"ruleId":"react/jsx-no-comment-textnodes","severity":2,"message":"Comments inside children section of tag should be placed inside braces","line":247,"column":182,"nodeType":"JSXText","messageId":"putCommentInBraces","endLine":252,"endColumn":17}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useContext, useEffect, useMemo } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet, Alert, ScrollView, Image, ActivityIndicator } from 'react-native';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { updateProfile, getProfile, uploadProfilePicture } from '../lib/api';\r\nimport ImageCropPicker from 'react-native-image-crop-picker';\r\nimport StartupVerifyStep from './setup-steps/StartupVerifyStep';\r\n// InvestorSetup and PersonalSetup are not used in this screen\r\nimport InvestorPortfolioStep from './setup-steps/InvestorPortfolioStep';\r\nimport StartupPortfolioStep from './setup-steps/StartupPortfolioStep';\r\n\r\nconst makeLocalStyles = (theme: any) => StyleSheet.create({\r\n    fullPage: { flex: 1 },\r\n    header: { height: 84, paddingTop: 28, paddingHorizontal: 12, flexDirection: 'row', alignItems: 'center' },\r\n    headerLeft: { width: 48 },\r\n    headerRight: { width: 48, alignItems: 'flex-end' },\r\n    headerSaveBtn: { padding: 8 },\r\n    headerTitle: { fontSize: 18, fontWeight: '700' },\r\n    scrollContent: { padding: 20, paddingBottom: 60 },\r\n    avatarPlaceholder: { width: 96, height: 96, borderRadius: 48, backgroundColor: '#333', alignItems: 'center', justifyContent: 'center', overflow: 'hidden' },\r\n    label: { marginBottom: 6, fontSize: 13, fontWeight: '600' },\r\n    input: { borderWidth: 1, borderRadius: 8, padding: 12, marginBottom: 12, borderColor: theme.border, color: theme.text },\r\n    textarea: { borderWidth: 1, borderRadius: 8, padding: 12, marginBottom: 12, minHeight: 80, borderColor: theme.border, color: theme.text },\r\n    dropdownTrigger: { borderWidth: 1, borderRadius: 12, padding: 12, borderColor: theme.border, backgroundColor: theme.background },\r\n    dropdownTriggerText: { color: theme.placeholder },\r\n    modalBackdrop: { position: 'absolute', left: 0, top: 0, right: 0, bottom: 0, backgroundColor: '#00000055' },\r\n    modalWrapper: { position: 'absolute', left: 20, right: 20, top: 150 },\r\n    dropdownList: { borderWidth: 1, borderRadius: 8, overflow: 'hidden', backgroundColor: theme.background, borderColor: theme.border },\r\n    dropdownItem: { padding: 12, borderTopWidth: StyleSheet.hairlineWidth, borderTopColor: '#00000010' },\r\n    dropdownItemHighlighted: { backgroundColor: '#2d2d2d' },\r\n    dropdownItemText: { color: theme.placeholder },\r\n    dropdownItemTextActive: { color: theme.text },\r\n    headerCenter: { alignItems: 'center', flex: 1 },\r\n    headerIcon: { color: theme.text },\r\n    headerTitleColor: { color: theme.text },\r\n    smallText: { color: theme.placeholder, fontSize: 12 },\r\n    saveText: { color: theme.primary },\r\n    avatarRow: { alignItems: 'center', marginBottom: 12 },\r\n    avatarText: { fontSize: 28, color: '#fff' },\r\n    avatarLabel: { color: theme.placeholder, marginTop: 8 },\r\n    verificationRow: { flexDirection: 'row', alignItems: 'center', marginBottom: 12 },\r\n    inputFlex: { borderWidth: 1, borderRadius: 8, padding: 12, marginBottom: 12, borderColor: theme.border, color: theme.text, flex: 1 },\r\n    verifyButton: { marginLeft: 8 },\r\n    verifyButtonText: { color: theme.primary },\r\n    verifiedText: { color: '#22c55e', marginLeft: 8 },\r\n    verificationBlock: { marginBottom: 12 },\r\n    verificationRowInner: { flexDirection: 'row', alignItems: 'center' },\r\n    avatarImage: { width: 96, height: 96, borderRadius: 48 },\r\n    avatarUploadOverlay: { position: 'absolute', bottom: 0, left: 0, right: 0, backgroundColor: 'rgba(0,0,0,0.5)', paddingVertical: 4, alignItems: 'center' },\r\n    avatarUploadText: { color: '#fff', fontSize: 10, fontWeight: '600' },\r\n});\r\n\r\nexport default function SetupProfile({ onDone, onClose }: { onDone: () => void; onClose?: () => void }) {\r\n    const { theme } = useContext(ThemeContext);\r\n    const localStyles = makeLocalStyles(theme);\r\n    const themePlaceholderStyle = useMemo(() => ({ color: theme.placeholder }), [theme.placeholder]);\r\n    const primaryButtonStyle = useMemo(() => ({ marginTop: 12, paddingVertical: 14, borderRadius: 10, backgroundColor: theme.primary, alignItems: 'center' }), [theme.primary]);\r\n    const primaryButtonTextStyle = useMemo(() => ({ color: '#fff', fontWeight: '700' }), []);\r\n    const avatarUploadCenterOverlay = useMemo(() => ({ top: 0, bottom: 0, justifyContent: 'center' }), []);\r\n    const roleOverlayStyle = useMemo(() => ({ backgroundColor: theme.background, position: 'absolute', left: 0, top: 0, right: 0, bottom: 0, zIndex: 10 }), [theme.background]);\r\n    const [username, setUsername] = useState('');\r\n    const [displayName, setDisplayName] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    // Email-related state removed\r\n    const [saving, setSaving] = useState(false);\r\n    const [roleStep, setRoleStep] = useState<'startup' | 'investor' | 'personal' | 'portfolio_investor' | 'portfolio_startup' | null>(null);\r\n    const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\r\n    const [pendingAvatarUri, setPendingAvatarUri] = useState<string | null>(null); // Local URI before upload\r\n    const [pendingAvatarMeta, setPendingAvatarMeta] = useState<{ fileName: string; type: string } | null>(null);\r\n    const [uploadingAvatar, setUploadingAvatar] = useState(false);\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n    const [accountType, setAccountType] = useState<'startup' | 'investor' | 'personal' | null>(null);\r\n    const [isKycVerified, setIsKycVerified] = useState(false);\r\n    // portfolioComplete state not used directly here\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const profile = await getProfile();\r\n                if (profile?.user) {\r\n                    setUsername(profile.user.username || '');\r\n                    setDisplayName(profile.user.displayName || profile.user.fullName || '');\r\n                    setBio(profile.user.bio || '');\r\n                    // Email fields omitted\r\n                    setAvatarUrl(profile.user.avatarUrl || null);\r\n                    if (profile.user.profileSetupComplete) setIsEditMode(true);\r\n                    // Get account type from roles array (first role or default to personal)\r\n                    const roles = profile.user.roles || ['personal'];\r\n                    const primaryRole = roles[0] || 'personal';\r\n                    setAccountType(primaryRole as 'startup' | 'investor' | 'personal');\r\n                    // Get KYC and portfolio status\r\n                    setIsKycVerified(profile.user.isKycVerified || false);\r\n                    setPortfolioComplete(profile.user.portfolioComplete || false);\r\n                    // Debug log\r\n                    console.log('[SetupProfile] Loaded user state:', {\r\n                        roles: profile.user.roles,\r\n                        primaryRole,\r\n                        profileSetupComplete: profile.user.profileSetupComplete,\r\n                        isEditMode: !!profile.user.profileSetupComplete,\r\n                        isKycVerified: profile.user.isKycVerified,\r\n                        portfolioComplete: profile.user.portfolioComplete\r\n                    });\r\n                }\r\n            } catch {\r\n                // ignore\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    const pickAvatar = async () => {\r\n        try {\r\n            const image = await ImageCropPicker.openPicker({\r\n                width: 400,\r\n                height: 400,\r\n                cropping: true,\r\n                cropperCircleOverlay: true, // Circular crop overlay\r\n                compressImageQuality: 0.8,\r\n                mediaType: 'photo',\r\n                cropperToolbarTitle: 'Crop Profile Photo',\r\n            });\r\n\r\n            if (!image.path) return;\r\n\r\n            // Store local URI for preview - will upload on Save\r\n            setPendingAvatarUri(image.path);\r\n            setPendingAvatarMeta({\r\n                fileName: image.filename || 'profile.jpg',\r\n                type: image.mime || 'image/jpeg',\r\n            });\r\n        } catch (err: any) {\r\n            // User cancelled or error\r\n            if (err.code !== 'E_PICKER_CANCELLED') {\r\n                console.error('Image picker error:', err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const submit = async () => {\r\n        if (!username || !displayName) {\r\n            Alert.alert('Missing fields', 'Please fill username and full name');\r\n            return;\r\n        }\r\n        setSaving(true);\r\n        try {\r\n            let finalAvatarUrl = avatarUrl;\r\n\r\n            // Upload pending avatar if exists\r\n            if (pendingAvatarUri && pendingAvatarMeta) {\r\n                setUploadingAvatar(true);\r\n                try {\r\n                    finalAvatarUrl = await uploadProfilePicture(\r\n                        pendingAvatarUri,\r\n                        pendingAvatarMeta.fileName,\r\n                        pendingAvatarMeta.type\r\n                    );\r\n                    setAvatarUrl(finalAvatarUrl);\r\n                    setPendingAvatarUri(null);\r\n                    setPendingAvatarMeta(null);\r\n                } catch (uploadErr: any) {\r\n                    Alert.alert('Upload failed', uploadErr.message || 'Failed to upload profile picture');\r\n                    setSaving(false);\r\n                    setUploadingAvatar(false);\r\n                    return;\r\n                }\r\n                setUploadingAvatar(false);\r\n            }\r\n\r\n            await updateProfile({\r\n                userData: {\r\n                    username,\r\n                    displayName,\r\n                    fullName: displayName,\r\n                    bio,\r\n                    profileSetupComplete: true,\r\n                    onboardingStep: 4,\r\n                    // email omitted\r\n                    ...(finalAvatarUrl && { avatarUrl: finalAvatarUrl })\r\n                }\r\n            });\r\n            Alert.alert('Success', 'Profile saved successfully!');\r\n            if (isEditMode) {\r\n                if (onClose) onClose();\r\n            }\r\n        } catch (err: any) {\r\n            const msg = err && err.message ? err.message : 'Unable to save profile';\r\n            Alert.alert('Error', msg);\r\n        } finally { setSaving(false); }\r\n    };\r\n\r\n    // Email verification function removed\r\n\r\n    return (\r\n        <View style={[localStyles.fullPage, { backgroundColor: theme.background }]}>\r\n            <View style={localStyles.header}>\r\n                <TouchableOpacity onPress={() => onClose && onClose()} style={localStyles.headerLeft}><Text style={localStyles.headerIcon}>{'â†'}</Text></TouchableOpacity>\r\n                <View style={localStyles.headerCenter}>\r\n                    <Text style={[localStyles.headerTitle, localStyles.headerTitleColor]}>\r\n                        {isEditMode ? 'Edit Profile' : 'Setup Profile'}\r\n                    </Text>\r\n                    {/* Show step info only in setup mode, or edit mode for non-personal accounts */}\r\n                    {(() => {\r\n                        if (isEditMode && accountType === 'personal' && isKycVerified) {\r\n                            return null; // No step info for personal with verified KYC in edit mode\r\n                        }\r\n                        if (isEditMode) {\r\n                            return null; // No step info in edit mode\r\n                        }\r\n                        // Setup mode: show step counts\r\n                        const totalSteps = accountType === 'personal' && isKycVerified ? 1 : 2;\r\n                        return <Text style={localStyles.smallText}>Step 1 of {totalSteps}</Text>;\r\n                    })()}\r\n                </View>\r\n                <View style={localStyles.headerRight}>\r\n                    <TouchableOpacity onPress={submit} style={localStyles.headerSaveBtn}><Text style={localStyles.saveText}>{saving ? 'Saving...' : 'Save'}</Text></TouchableOpacity>\r\n                </View>\r\n            </View>\r\n\r\n            <ScrollView contentContainerStyle={localStyles.scrollContent}>\r\n                <View style={localStyles.avatarRow}>\r\n                    <TouchableOpacity onPress={pickAvatar} disabled={uploadingAvatar || saving}>\r\n                        <View style={localStyles.avatarPlaceholder}>\r\n                            {(pendingAvatarUri || avatarUrl) ? (\r\n                                <Image\r\n                                    source={{ uri: pendingAvatarUri || avatarUrl || '' }}\r\n                                    style={localStyles.avatarImage}\r\n                                />\r\n                            ) : (\r\n                                <Text style={localStyles.avatarText}>ðŸ“·</Text>\r\n                            )}\r\n                            {uploadingAvatar && (\r\n                                <View style={[localStyles.avatarUploadOverlay, avatarUploadCenterOverlay]}>\r\n                                    <ActivityIndicator size=\"small\" color=\"#fff\" />\r\n                                </View>\r\n                            )}\r\n                            <View style={localStyles.avatarUploadOverlay}>\r\n                                <Text style={localStyles.avatarUploadText}>\r\n                                    {uploadingAvatar ? 'Uploading...' : 'Edit'}\r\n                                </Text>\r\n                            </View>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                    <Text style={localStyles.avatarLabel}>Profile Photo</Text>\r\n                </View>\r\n                <Text style={[localStyles.label, themePlaceholderStyle]}>Username</Text>\r\n                <TextInput placeholder=\"Username\" value={username} onChangeText={setUsername} style={localStyles.input} placeholderTextColor={theme.placeholder} />\r\n\r\n                <Text style={[localStyles.label, themePlaceholderStyle]}>Full Name</Text>\r\n                <TextInput placeholder=\"Enter your full name\" value={displayName} onChangeText={setDisplayName} style={localStyles.input} placeholderTextColor={theme.placeholder} />\r\n\r\n// Email input and verification UI removed\r\n                // Verification code UI removed\r\n\r\n                <Text style={[localStyles.label, { color: theme.placeholder }]}>Quick Bio</Text>\r\n                <TextInput placeholder=\"Tell us about yourself\" value={bio} onChangeText={setBio} multiline numberOfLines={3} style={localStyles.textarea} placeholderTextColor={theme.placeholder} />\r\n\r\n                {/* Button Logic:\r\n                    - Personal + Edit mode -> No button (just Save)\r\n                    - Personal + Setup mode -> Next to KYC\r\n                    - Investor/Startup + Edit mode -> Update to Portfolio directly\r\n                    - Investor/Startup + Setup mode -> Next to Verification page\r\n                */}\r\n                {(() => {\r\n                    // Personal accounts - no second page in edit mode, go to KYC in setup\r\n                    if (accountType === 'personal') {\r\n                        if (isEditMode) {\r\n                            return null; // No second page for personal in edit mode\r\n                        }\r\n                        // Setup mode - go to verification/KYC\r\n                        return (\r\n                            <TouchableOpacity\r\n                                onPress={() => setRoleStep('personal')}\r\n                                style={primaryButtonStyle as any}\r\n                            >\r\n                                <Text style={primaryButtonTextStyle}>Next</Text>\r\n                            </TouchableOpacity>\r\n                        );\r\n                    }\r\n\r\n                    // Investor/Startup - always show Next button, but route differently based on mode\r\n                    // In edit mode, use portfolio_ prefix to go directly to portfolio\r\n                    const targetStep = isEditMode ? `portfolio_${accountType}` : accountType;\r\n                    return (\r\n                        <TouchableOpacity\r\n                            onPress={() => setRoleStep(targetStep as any)}\r\n                            style={primaryButtonStyle as any}\r\n                        >\r\n                            <Text style={primaryButtonTextStyle}>Next</Text>\r\n                        </TouchableOpacity>\r\n                    );\r\n                })()}\r\n\r\n            </ScrollView>\r\n\r\n            {roleStep && (\r\n                <View style={[localStyles.fullPage, roleOverlayStyle as any]}>\r\n                    {/* Setup mode - full verification flow */}\r\n                    {roleStep === 'startup' && (\r\n                        <StartupVerifyStep onBack={() => setRoleStep(null)} onDone={() => { setRoleStep(null); onDone(); if (onClose) onClose(); }} />\r\n                    )}\r\n                    {roleStep === 'investor' && (\r\n                        <StartupVerifyStep onBack={() => setRoleStep(null)} onDone={() => { setRoleStep(null); onDone(); if (onClose) onClose(); }} />\r\n                    )}\r\n                    {roleStep === 'personal' && (\r\n                        <StartupVerifyStep onBack={() => setRoleStep(null)} onDone={() => { setRoleStep(null); onDone(); if (onClose) onClose(); }} />\r\n                    )}\r\n\r\n                    {/* Edit mode - direct to portfolio */}\r\n                    {roleStep === 'portfolio_investor' && (\r\n                        <InvestorPortfolioStep onBack={() => setRoleStep(null)} onDone={() => { setRoleStep(null); if (onClose) onClose(); }} />\r\n                    )}\r\n                    {roleStep === 'portfolio_startup' && (\r\n                        <StartupPortfolioStep onBack={() => setRoleStep(null)} onDone={() => { setRoleStep(null); if (onClose) onClose(); }} />\r\n                    )}\r\n                </View>\r\n            )}\r\n        </View>\r\n    );\r\n}\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\SignIn.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\SignUp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\TopStartups.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\TradingSection.tsx","messages":[{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtreeâ€™s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component â€œTradingâ€ and pass data as props.","line":716,"column":28,"nodeType":"ArrowFunctionExpression","endLine":743,"endColumn":10},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtreeâ€™s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component â€œTradingâ€ and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":780,"column":38,"nodeType":"ArrowFunctionExpression","endLine":780,"endColumn":159}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useEffect has missing dependencies: 'buyLoading' and 'fetchBuyTrades'. Either include them or remove the dependency array.","line":245,"column":8,"nodeType":"ArrayExpression","endLine":245,"endColumn":61,"suggestions":[{"desc":"Update the dependencies array to be: [buyInitialLoadDone, buyLoading, fetchBuyTrades, searchValue, selectedCategories]","fix":{"range":[10121,10174],"text":"[buyInitialLoadDone, buyLoading, fetchBuyTrades, searchValue, selectedCategories]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, useRef, useMemo } from 'react';\r\nimport { View, Text, TouchableOpacity, TextInput, SafeAreaView, ActivityIndicator, Dimensions, Animated, ScrollView, Image as RNImage, Alert, FlatList, RefreshControl } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { createTrade, getMyTrades, getAllTrades, updateTrade, deleteTrade, fetchInvestors } from '../lib/api';\r\nimport { BOTTOM_NAV_HEIGHT } from '../lib/layout';\r\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\n\r\n// Import modular files\r\nimport { categories, Investment, InvestorPortfolio } from './Trading/types';\r\nimport { styles } from './Trading/styles';\r\nimport { TradingForm } from './Trading/components/TradingForm';\r\nimport { TradeCard } from './Trading/components/TradeCard';\r\n// import { FilterBar } from './Trading/components/FilterBar';\r\n// import { getYearsAgo } from './Trading/utils';\r\n\r\nconst { width: screenW } = Dimensions.get('window');\r\n\r\n// Constants and types now imported from Trading/types.ts\r\n\r\n// Investment and InvestorPortfolio interfaces now imported from Trading/types.ts\r\n\r\ninterface ActiveTrade {\r\n    _id?: string;\r\n    id?: number;\r\n    companyId: string;\r\n    companyName: string;\r\n    companyType: string[];\r\n    companyAge: string;\r\n    revenueStatus: \"revenue-generating\" | \"pre-revenue\";\r\n    description: string;\r\n    startupUsername: string;\r\n    sellingRangeMin: number;\r\n    sellingRangeMax: number;\r\n    videoUrl?: string;\r\n    imageUrls: string[];\r\n    views: number;\r\n    saves: number;\r\n    isEdited: boolean;\r\n    isManualEntry: boolean;\r\n    selectedIndustries: string[];\r\n    externalLinkHeading?: string;\r\n    externalLinkUrl?: string;\r\n}\r\n\r\nconst Trading = () => {\r\n    // Data State\r\n    const [refreshing, setRefreshing] = useState(false);\r\n\r\n    // UI State\r\n    const [activeTab, setActiveTab] = useState<'Data' | 'Buy' | 'Sell' | 'Leaderboard'>('Data');\r\n    const [searchValue, setSearchValue] = useState('');\r\n    const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\r\n\r\n    // Buy/Sell specific states\r\n    const [buyTrades, setBuyTrades] = useState<any[]>([]);\r\n    const [buyLoading, setBuyLoading] = useState(false);\r\n    const [investors, setInvestors] = useState<InvestorPortfolio[]>([]);\r\n    const [investorsLoading, setInvestorsLoading] = useState<boolean>(true);\r\n    const [expandedPortfolios, setExpandedPortfolios] = useState<Set<string>>(new Set());\r\n    const pagerRef = useRef<any>(null);\r\n    const scrollX = useRef(new Animated.Value(0)).current;\r\n\r\n    // Memoized style objects to avoid inline styles in JSX (reduces eslint warnings)\r\n    const centeredLoaderStyle = useMemo(() => ({ flex: 1, alignItems: 'center', justifyContent: 'center' }), []);\r\n    const flexOneStyle = useMemo(() => ({ flex: 1 }), []);\r\n    const rowCenterStyle = useMemo(() => ({ flexDirection: 'row', alignItems: 'center' }), []);\r\n    const rowCenterGap8 = useMemo(() => ({ flexDirection: 'row', alignItems: 'center', gap: 8 }), []);\r\n    const rightButtonsRow = useMemo(() => ({ flexDirection: 'row', gap: 8 }), []);\r\n    const previewImageFull = useMemo(() => ({ width: '100%', height: '100%' }), []);\r\n    const fullWidthCard = useMemo(() => ({ width: '100%' }), []);\r\n    const statLabelBlue = useMemo(() => ({ color: '#1a73e8' }), []);\r\n    const statValueBlue = useMemo(() => ({ color: '#1a73e8' }), []);\r\n    const footerLoaderStyle = useMemo(() => ({ margin: 20 }), []);\r\n    const videoPlayerTextStyle = useMemo(() => ({ color: '#fff', textAlign: 'center' }), []);\r\n    const activeTradesTopStyle = useMemo(() => ({ marginTop: 24 }), []);\r\n    const pagerPageWidth = useMemo(() => ({ width: screenW }), []);\r\n    const animatedIndicatorStyle = useMemo(() => ([\r\n        styles.tabIndicator,\r\n        {\r\n            width: screenW / 2,\r\n            transform: [{\r\n                translateX: scrollX.interpolate({ inputRange: [0, screenW], outputRange: [0, screenW / 2] })\r\n            }]\r\n        }\r\n    ]), [scrollX]);\r\n\r\n    // SELL tab - Portfolio form state\r\n    const [expandedCompany, setExpandedCompany] = useState<string | null>(null);\r\n    const [sellingRangeMin, setSellingRangeMin] = useState<number>(10);\r\n    const [sellingRangeMax, setSellingRangeMax] = useState<number>(40);\r\n    const [companyAge, setCompanyAge] = useState<string>('');\r\n    const [revenueStatus, setRevenueStatus] = useState<\"revenue-generating\" | \"pre-revenue\">(\"pre-revenue\");\r\n    const [description, setDescription] = useState<string>('');\r\n    const [startupUsername, setStartupUsername] = useState<string>('');\r\n    const [isManualEntry, setIsManualEntry] = useState<boolean>(false);\r\n    const [selectedIndustries, setSelectedIndustries] = useState<string[]>([]);\r\n    const [companyType] = useState<string[]>([]);\r\n    const [videoUri, setVideoUri] = useState<string>('');\r\n    const [imageUris, setImageUris] = useState<string[]>([]);\r\n    const [externalLinkHeading, setExternalLinkHeading] = useState<string>('');\r\n    const [externalLinkUrl, setExternalLinkUrl] = useState<string>('');\r\n    const [selectedCompanyName, setSelectedCompanyName] = useState<string>('');\r\n    const [selectedCompanyAge, setSelectedCompanyAge] = useState<string>('');\r\n    const [editingTradeId, setEditingTradeId] = useState<string | null>(null);\r\n\r\n    // Active trades\r\n    const [activeTrades, setActiveTrades] = useState<ActiveTrade[]>([]);\r\n    const [expandedTradeId, setExpandedTradeId] = useState<string | number | null>(null);\r\n    const [currentPhotoIndex, setCurrentPhotoIndex] = useState<{ [key: string]: number }>({});\r\n\r\n    // BUY tab state\r\n    const [showSavedOnly, setShowSavedOnly] = useState(false);\r\n    const [savedItems, setSavedItems] = useState<string[]>([]);\r\n    const [isFilterOpen, setIsFilterOpen] = useState(false);\r\n\r\n    // BUY TAB Pagination State\r\n    const [buySkip, setBuySkip] = useState(0);\r\n    const [buyHasMore, setBuyHasMore] = useState(true);\r\n\r\n    const [buyInitialLoadDone, setBuyInitialLoadDone] = useState(false);\r\n    const [expandedBuyTradeId, setExpandedBuyTradeId] = useState<string | number | null>(null);\r\n\r\n    const BUY_LIMIT = 20;\r\n\r\n    // Fetch Buy Trades\r\n    const fetchBuyTrades = React.useCallback(async (reset = false) => {\r\n        if (reset) {\r\n            setBuyLoading(true);\r\n            setBuySkip(0);\r\n            // Clear existing data to avoid showing stale cache while loading\r\n            setBuyTrades([]);\r\n        }\r\n\r\n        const currentSkip = reset ? 0 : buySkip;\r\n\r\n        try {\r\n            const filters: any = {};\r\n            if (searchValue) filters.q = searchValue;\r\n            if (selectedCategories.length > 0) filters.industries = selectedCategories.join(',');\r\n\r\n            const data = await getAllTrades(BUY_LIMIT, currentSkip, filters);\r\n\r\n            if (reset) {\r\n                setBuyTrades(data);\r\n                // Update Cache only on fresh load \r\n                AsyncStorage.setItem('ATMOSPHERE_TRADES_BUY_CACHE', JSON.stringify(data)).catch(() => { });\r\n            } else {\r\n                setBuyTrades(prev => [...prev, ...data]);\r\n            }\r\n\r\n            setBuyHasMore(data.length >= BUY_LIMIT);\r\n            setBuySkip(currentSkip + BUY_LIMIT);\r\n        } catch (e) {\r\n            console.warn('Failed to load buy trades', e);\r\n        } finally {\r\n            setBuyLoading(false);\r\n        }\r\n    }, [buySkip, searchValue, selectedCategories]);\r\n\r\n    // Refresh Logic (Merged)\r\n    const onRefresh = React.useCallback(async () => {\r\n        setRefreshing(true);\r\n        try {\r\n            if (activeTab === 'Buy') {\r\n                await fetchBuyTrades(true);\r\n            } else {\r\n                // Refresh Sell Tab components\r\n                await Promise.all([\r\n                    getMyTrades().then(t => setActiveTrades(t)).catch(console.warn),\r\n                    fetchInvestors().then(i => setInvestors(i)).catch(console.warn)\r\n                ]);\r\n            }\r\n        } catch (e) {\r\n            console.warn('Refresh error', e);\r\n        } finally {\r\n            setRefreshing(false);\r\n        }\r\n    }, [activeTab, fetchBuyTrades]);\r\n\r\n\r\n\r\n    // ... existing load active trades logic ...\r\n\r\n    // BUY TAB: Signal initial load done to trigger fetch\r\n    useEffect(() => {\r\n        setBuyInitialLoadDone(true);\r\n    }, []);\r\n\r\n    // Fetch Investors (Sell Tab)\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        const loadInvestors = async () => {\r\n            try {\r\n                const data = await fetchInvestors();\r\n                if (mounted) {\r\n                    setInvestors(data);\r\n                }\r\n            } catch (e) {\r\n                console.warn('Failed to load investors', e);\r\n            } finally {\r\n                if (mounted) setInvestorsLoading(false);\r\n            }\r\n        };\r\n        loadInvestors();\r\n        return () => { mounted = false; };\r\n    }, []);\r\n\r\n    // Fetch My Active Trades (Sell Tab)\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        const loadMyTrades = async () => {\r\n            try {\r\n                const trades = await getMyTrades();\r\n                if (mounted) {\r\n                    setActiveTrades(trades);\r\n                }\r\n            } catch (e) {\r\n                console.warn('Failed to load my trades', e);\r\n            }\r\n        };\r\n        loadMyTrades();\r\n        return () => { mounted = false; };\r\n    }, []);\r\n\r\n\r\n\r\n    // Trigger fetch on initial load or filter change\r\n    useEffect(() => {\r\n        if (!buyInitialLoadDone) return;\r\n        // Prevent fetching if already loading\r\n        if (buyLoading) return;\r\n\r\n        // Debounce only if searching\r\n        if (searchValue) {\r\n            const timer = setTimeout(() => {\r\n                fetchBuyTrades(true);\r\n            }, 500);\r\n            return () => clearTimeout(timer);\r\n        } else {\r\n            fetchBuyTrades(true);\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [buyInitialLoadDone, searchValue, selectedCategories]);\r\n\r\n    const handleLoadMoreBuy = () => {\r\n        if (!buyHasMore || buyLoading) return;\r\n        fetchBuyTrades(false);\r\n    };\r\n\r\n    const togglePortfolio = (cardKey: string) => {\r\n        setExpandedPortfolios(prev => {\r\n            const newSet = new Set(prev);\r\n            if (newSet.has(cardKey)) {\r\n                newSet.delete(cardKey);\r\n            } else {\r\n                newSet.add(cardKey);\r\n            }\r\n            return newSet;\r\n        });\r\n    };\r\n\r\n\r\n\r\n    const toggleIndustry = (industry: string) => {\r\n        setSelectedIndustries(prev =>\r\n            prev.includes(industry)\r\n                ? prev.filter(i => i !== industry)\r\n                : prev.length < 3 ? [...prev, industry] : prev\r\n        );\r\n    };\r\n\r\n    const handleVideoUpload = async () => {\r\n        try {\r\n            const result = await launchImageLibrary({\r\n                mediaType: 'video',\r\n                quality: 0.8,\r\n            });\r\n\r\n            if (!result.didCancel && result.assets && result.assets.length > 0) {\r\n                setVideoUri(result.assets[0].uri || '');\r\n            }\r\n        } catch (error) {\r\n            console.warn('Video upload error:', error);\r\n        }\r\n    };\r\n\r\n    const handleImageUpload = async () => {\r\n        try {\r\n            const result = await launchImageLibrary({\r\n                mediaType: 'photo',\r\n                quality: 0.8,\r\n            });\r\n\r\n            if (!result.didCancel && result.assets && result.assets.length > 0) {\r\n                setImageUris([...imageUris, result.assets[0].uri || '']);\r\n            }\r\n        } catch (error) {\r\n            console.warn('Image upload error:', error);\r\n        }\r\n    };\r\n\r\n    const removeImage = (index: number) => {\r\n        setImageUris(imageUris.filter((_, i) => i !== index));\r\n    };\r\n\r\n    const handleOpenTrade = async () => {\r\n        if (!expandedCompany) return;\r\n\r\n        // Use the company name and age that were stored when the portfolio card was expanded\r\n        const finalCompanyName = selectedCompanyName || 'Company';\r\n        const finalCompanyAge = selectedCompanyAge || companyAge || '';\r\n\r\n        const tradeData = {\r\n            companyId: expandedCompany,\r\n            companyName: finalCompanyName,\r\n            companyType,\r\n            companyAge: finalCompanyAge,\r\n            revenueStatus,\r\n            description,\r\n            startupUsername,\r\n            sellingRangeMin,\r\n            sellingRangeMax,\r\n            selectedIndustries,\r\n            isManualEntry,\r\n            externalLinkHeading,\r\n            externalLinkUrl,\r\n            // Note: videoUrl and imageUrls are excluded for now (future implementation)\r\n        };\r\n\r\n        try {\r\n            if (editingTradeId) {\r\n                const response = await updateTrade(editingTradeId, tradeData);\r\n                if (response && response.trade) {\r\n                    setActiveTrades(activeTrades.map(t => t._id === editingTradeId ? response.trade : t));\r\n                }\r\n                Alert.alert('Success', 'Trade updated successfully!');\r\n            } else {\r\n                const response = await createTrade(tradeData);\r\n                if (response && response.trade) {\r\n                    setActiveTrades([...activeTrades, response.trade]);\r\n                }\r\n                Alert.alert('Success', 'Trade opened successfully!');\r\n            }\r\n\r\n            // Reset form\r\n            setEditingTradeId(null);\r\n            setExpandedCompany(null);\r\n            setSellingRangeMin(10);\r\n            setSellingRangeMax(40);\r\n            setCompanyAge('');\r\n            setRevenueStatus('pre-revenue');\r\n            setDescription('');\r\n            setStartupUsername('');\r\n            setIsManualEntry(false);\r\n            setSelectedIndustries([]);\r\n            setVideoUri('');\r\n            setImageUris([]);\r\n            setExternalLinkHeading('');\r\n            setExternalLinkUrl('');\r\n            setSelectedCompanyName('');\r\n            setSelectedCompanyAge('');\r\n        } catch (error: any) {\r\n            console.error('Failed to save trade:', error);\r\n            Alert.alert('Error', error.message || 'Failed to save trade');\r\n        }\r\n    };\r\n\r\n    const handleDeleteTrade = async (tradeId: any) => {\r\n        try {\r\n            await deleteTrade(tradeId);\r\n            setActiveTrades(activeTrades.filter(trade => trade._id !== tradeId));\r\n            Alert.alert('Success', 'Trade deleted successfully!');\r\n        } catch (error: any) {\r\n            console.error('Failed to delete trade:', error);\r\n            Alert.alert('Error', error.message || 'Failed to delete trade');\r\n        }\r\n    };\r\n\r\n    const handleUpdateTrade = (tradeId: any) => {\r\n        const trade = activeTrades.find(t => t._id === tradeId);\r\n        if (trade) {\r\n            // Populate form\r\n            setEditingTradeId(tradeId);\r\n            setExpandedCompany(trade.companyId); // Required for handleOpenTrade logic\r\n            setExpandedTradeId(tradeId); // Expand the active trade card to show form\r\n\r\n            setSelectedCompanyName(trade.companyName);\r\n            setSellingRangeMin(trade.sellingRangeMin);\r\n            setSellingRangeMax(trade.sellingRangeMax);\r\n            setCompanyAge(trade.companyAge);\r\n            setRevenueStatus(trade.revenueStatus);\r\n            setDescription(trade.description);\r\n            setStartupUsername(trade.startupUsername);\r\n            setIsManualEntry(trade.isManualEntry);\r\n            setVideoUri(trade.videoUrl || '');\r\n            setImageUris(trade.imageUrls || []);\r\n            setSelectedIndustries(trade.selectedIndustries);\r\n            setExternalLinkHeading(trade.externalLinkHeading || '');\r\n            setExternalLinkUrl(trade.externalLinkUrl || '');\r\n        }\r\n    };\r\n\r\n    const handleCategoryClick = (category: string) => {\r\n        setSelectedCategories(prev =>\r\n            prev.includes(category)\r\n                ? prev.filter(c => c !== category)\r\n                : [...prev, category]\r\n        );\r\n    };\r\n\r\n    const toggleSaveItem = (itemId: string) => {\r\n        setSavedItems(prev =>\r\n            prev.includes(itemId)\r\n                ? prev.filter(id => id !== itemId)\r\n                : [...prev, itemId]\r\n        );\r\n    };\r\n\r\n    const renderInvestorPortfolios = () => {\r\n        if (investorsLoading) {\r\n            return (\r\n                <View style={centeredLoaderStyle}>\r\n                    <ActivityIndicator size=\"large\" color=\"#1a73e8\" />\r\n                </View>\r\n            );\r\n        }\r\n\r\n        // Flatten all investments from all investors into a single list\r\n        const allInvestments: Array<Investment & { investorId: string; investorName: string }> = [];\r\n        investors.forEach(investor => {\r\n            if (investor.previousInvestments && investor.previousInvestments.length > 0) {\r\n                investor.previousInvestments.forEach(investment => {\r\n                    allInvestments.push({\r\n                        ...investment,\r\n                        investorId: investor._id,\r\n                        investorName: investor.user?.displayName || investor.user?.username || 'Investor'\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n        if (allInvestments.length === 0) {\r\n            return (\r\n                <View style={styles.emptyContainer}>\r\n                    <Text style={styles.emptyTitle}>No Portfolios Available</Text>\r\n                    <Text style={styles.emptyText}>\r\n                        No investors have listed their portfolios yet\r\n                    </Text>\r\n                </View>\r\n            );\r\n        }\r\n\r\n        // Calculate years ago for each investment\r\n        const getYearsAgo = (date?: Date | string) => {\r\n            if (!date) return '';\r\n            const now = new Date();\r\n            const investmentDate = new Date(date);\r\n            const diffMs = now.getTime() - investmentDate.getTime();\r\n            const years = diffMs / (1000 * 60 * 60 * 24 * 365.25);\r\n            return `${years.toFixed(1)} years`;\r\n        };\r\n\r\n        return (\r\n            <ScrollView\r\n                style={flexOneStyle}\r\n                contentContainerStyle={{ paddingBottom: BOTTOM_NAV_HEIGHT + 24 }}\r\n                refreshControl={\r\n                    <RefreshControl\r\n                        refreshing={refreshing}\r\n                        onRefresh={onRefresh}\r\n                        tintColor=\"#1a73e8\"\r\n                        title=\"Release to refresh\"\r\n                        titleColor=\"#888\"\r\n                    />\r\n                }\r\n            >\r\n                <Text style={styles.portfolioHeader}>Portfolio</Text>\r\n                {allInvestments.map((item, index) => {\r\n                    const cardKey = `${item.companyName}-${item.investorId}`;\r\n                    const isExpanded = expandedPortfolios.has(cardKey);\r\n                    const yearsText = getYearsAgo(item.date);\r\n\r\n                    return (\r\n                        <View key={index} style={styles.portfolioCard}>\r\n                            <TouchableOpacity\r\n                                style={styles.portfolioCardHeader}\r\n                                onPress={() => {\r\n                                    togglePortfolio(cardKey);\r\n                                    if (isExpanded) {\r\n                                        setExpandedCompany(null);\r\n                                        setSelectedCompanyName('');\r\n                                        setSelectedCompanyAge('');\r\n                                    } else {\r\n                                        setExpandedCompany(cardKey);\r\n                                        setSelectedCompanyName(item.companyName);\r\n                                        setSelectedCompanyAge(yearsText);\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <View style={flexOneStyle}>\r\n                                    <View style={rowCenterStyle}>\r\n                                        <Text style={styles.portfolioCompanyName}>\r\n                                            {item.companyName}\r\n                                        </Text>\r\n                                        {yearsText ? (\r\n                                            <View style={styles.yearsBadge}>\r\n                                                <Text style={styles.yearsBadgeText}>{yearsText}</Text>\r\n                                            </View>\r\n                                        ) : null}\r\n                                    </View>\r\n                                </View>\r\n                                <MaterialCommunityIcons\r\n                                    name={isExpanded ? \"chevron-up\" : \"chevron-down\"}\r\n                                    size={24}\r\n                                    color=\"#bfbfbf\"\r\n                                />\r\n                            </TouchableOpacity>\r\n\r\n                            {isExpanded && expandedCompany === cardKey && (\r\n                                <TradingForm\r\n                                    sellingRangeMin={sellingRangeMin}\r\n                                    setSellingRangeMin={setSellingRangeMin}\r\n                                    sellingRangeMax={sellingRangeMax}\r\n                                    setSellingRangeMax={setSellingRangeMax}\r\n                                    isManualEntry={isManualEntry}\r\n                                    setIsManualEntry={setIsManualEntry}\r\n                                    startupUsername={startupUsername}\r\n                                    setStartupUsername={setStartupUsername}\r\n                                    externalLinkHeading={externalLinkHeading}\r\n                                    setExternalLinkHeading={setExternalLinkHeading}\r\n                                    externalLinkUrl={externalLinkUrl}\r\n                                    setExternalLinkUrl={setExternalLinkUrl}\r\n                                    description={description}\r\n                                    setDescription={setDescription}\r\n                                    revenueStatus={revenueStatus}\r\n                                    setRevenueStatus={setRevenueStatus}\r\n                                    videoUri={videoUri}\r\n                                    handleVideoUpload={handleVideoUpload}\r\n                                    imageUris={imageUris}\r\n                                    handleImageUpload={handleImageUpload}\r\n                                    removeImage={removeImage}\r\n                                    selectedIndustries={selectedIndustries}\r\n                                    toggleIndustry={toggleIndustry}\r\n                                    onSubmit={handleOpenTrade}\r\n                                    submitText={editingTradeId ? \"Update Trade\" : \"Open Trade\"}\r\n                                />\r\n                            )}\r\n                        </View>\r\n                    );\r\n                })}\r\n\r\n                {/* Active Trades Section */}\r\n                {activeTrades.length > 0 && (\r\n                    <View style={activeTradesTopStyle}>\r\n                        <Text style={styles.portfolioHeader}>Active Trades</Text>\r\n                        {activeTrades.map((trade) => {\r\n                            const tradeId = trade._id || trade.id;\r\n                            if (!tradeId) return null;\r\n                            const isExpanded = expandedTradeId === tradeId;\r\n                            const photoIndex = currentPhotoIndex[tradeId] || 0;\r\n\r\n                            return (\r\n                                <View key={tradeId} style={styles.tradeCard}>\r\n                                    <TouchableOpacity\r\n                                        style={styles.tradeCardHeader}\r\n                                        onPress={() => {\r\n                                            setExpandedTradeId(isExpanded ? null : (tradeId as string | number));\r\n                                            setEditingTradeId(null);\r\n                                        }}\r\n                                    >\r\n                                        <View style={styles.tradeAvatar}>\r\n                                            <Text style={styles.tradeAvatarText}>\r\n                                                {trade.companyName[0]}\r\n                                            </Text>\r\n                                        </View>\r\n\r\n                                        <View style={flexOneStyle}>\r\n                                            <View style={rowCenterGap8}>\r\n                                                <Text style={styles.tradeCompanyName}>{trade.companyName}</Text>\r\n                                                <View style={styles.tradeBadge}>\r\n                                                    <Text style={styles.tradeBadgeText}>Trade</Text>\r\n                                                </View>\r\n                                            </View>\r\n                                            {!isExpanded && (\r\n                                                <Text style={styles.tradeUsername} numberOfLines={1}>\r\n                                                    {trade.description}\r\n                                                </Text>\r\n                                            )}\r\n                                            {!isExpanded && (\r\n                                                <Text style={styles.tradeMetaText}>\r\n                                                    {trade.revenueStatus === 'revenue-generating' ? 'Revenue Generating' : 'Pre Revenue'} â€¢ {trade.sellingRangeMin}% - {trade.sellingRangeMax}%\r\n                                                </Text>\r\n                                            )}\r\n                                        </View>\r\n\r\n                                        <View style={rightButtonsRow}>\r\n                                            <TouchableOpacity\r\n                                                style={styles.tradeActionButton}\r\n                                                onPress={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    handleUpdateTrade(tradeId);\r\n                                                }}\r\n                                            >\r\n                                                <MaterialCommunityIcons name=\"pencil\" size={16} color=\"#999\" />\r\n                                            </TouchableOpacity>\r\n                                            <TouchableOpacity\r\n                                                style={styles.tradeActionButton}\r\n                                                onPress={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    handleDeleteTrade(tradeId);\r\n                                                }}\r\n                                            >\r\n                                                <MaterialCommunityIcons name=\"delete\" size={16} color=\"#ff4444\" />\r\n                                            </TouchableOpacity>\r\n                                        </View>\r\n                                    </TouchableOpacity>\r\n\r\n                                    {isExpanded && (\r\n                                        editingTradeId === tradeId ? (\r\n                                            <TradingForm\r\n                                                sellingRangeMin={sellingRangeMin}\r\n                                                setSellingRangeMin={setSellingRangeMin}\r\n                                                sellingRangeMax={sellingRangeMax}\r\n                                                setSellingRangeMax={setSellingRangeMax}\r\n                                                isManualEntry={isManualEntry}\r\n                                                setIsManualEntry={setIsManualEntry}\r\n                                                startupUsername={startupUsername}\r\n                                                setStartupUsername={setStartupUsername}\r\n                                                externalLinkHeading={externalLinkHeading}\r\n                                                setExternalLinkHeading={setExternalLinkHeading}\r\n                                                externalLinkUrl={externalLinkUrl}\r\n                                                setExternalLinkUrl={setExternalLinkUrl}\r\n                                                description={description}\r\n                                                setDescription={setDescription}\r\n                                                revenueStatus={revenueStatus}\r\n                                                setRevenueStatus={setRevenueStatus}\r\n                                                videoUri={videoUri}\r\n                                                handleVideoUpload={handleVideoUpload}\r\n                                                imageUris={imageUris}\r\n                                                handleImageUpload={handleImageUpload}\r\n                                                removeImage={removeImage}\r\n                                                selectedIndustries={selectedIndustries}\r\n                                                toggleIndustry={toggleIndustry}\r\n                                                onSubmit={handleOpenTrade}\r\n                                                submitText=\"Update Trade\"\r\n                                                noPadding\r\n                                            />\r\n                                        ) : (\r\n                                            <View style={styles.tradeExpandedContent}>\r\n                                                {trade.description && (\r\n                                                    <Text style={styles.tradeDescription}>\"{trade.description}\"</Text>\r\n                                                )}\r\n\r\n                                                {/* Media */}\r\n                                                {(trade.videoUrl || trade.imageUrls.length > 0) && (\r\n                                                    <View style={styles.tradeMediaContainer}>\r\n                                                        {trade.videoUrl ? (\r\n                                                            <View style={styles.tradeMedia}>\r\n                                                                <Text style={videoPlayerTextStyle}>Video Player</Text>\r\n                                                            </View>\r\n                                                        ) : (\r\n                                                            <View style={styles.tradeMedia}>\r\n                                                                <RNImage\r\n                                                                    source={{ uri: trade.imageUrls[photoIndex] }}\r\n                                                                    style={previewImageFull}\r\n                                                                    resizeMode=\"cover\"\r\n                                                                />\r\n                                                            </View>\r\n                                                        )}\r\n                                                    </View>\r\n                                                )}\r\n\r\n                                                {/* Stats Grid */}\r\n                                                <View style={styles.statsGrid}>\r\n                                                    <View style={styles.statCard}>\r\n                                                        <Text style={styles.statLabel}>Revenue Status</Text>\r\n                                                        <Text style={styles.statValue}>\r\n                                                            {trade.revenueStatus === 'revenue-generating' ? 'Revenue Generating' : 'Pre Revenue'}\r\n                                                        </Text>\r\n                                                    </View>\r\n                                                    <View style={styles.statCard}>\r\n                                                        <Text style={styles.statLabel}>Company Age</Text>\r\n                                                        <Text style={styles.statValue}>{trade.companyAge || 'N/A'}</Text>\r\n                                                    </View>\r\n                                                    <View style={[styles.statCard, fullWidthCard]}>\r\n                                                        <Text style={[styles.statLabel, statLabelBlue]}>Selling Range</Text>\r\n                                                        <Text style={[styles.statValue, statValueBlue]}>\r\n                                                            {trade.sellingRangeMin}% - {trade.sellingRangeMax}%\r\n                                                        </Text>\r\n                                                    </View>\r\n                                                </View>\r\n\r\n                                                {/* Views & Saves */}\r\n                                                <View style={styles.tradeStats}>\r\n                                                    <Text style={styles.tradeStatText}>Views: {trade.views}</Text>\r\n                                                    <Text style={styles.tradeStatText}>Saves: {trade.saves}</Text>\r\n                                                </View>\r\n                                            </View>\r\n                                        )\r\n                                    )}\r\n                                </View>\r\n                            );\r\n                        })}\r\n                    </View>\r\n                )}\r\n            </ScrollView>\r\n        );\r\n    };\r\n\r\n    const renderMarketsList = () => {\r\n        // We use buyTrades for data\r\n        const data = buyTrades;\r\n\r\n        const ListHeader = () => (\r\n            <>\r\n                {/* Category Filters - Only show when filter is open */}\r\n                {isFilterOpen && (\r\n                    <View style={styles.categoriesContainer}>\r\n                        {categories.map(category => (\r\n                            <TouchableOpacity\r\n                                key={category}\r\n                                onPress={() => handleCategoryClick(category)}\r\n                                style={[\r\n                                    styles.categoryChip,\r\n                                    selectedCategories.includes(category) && styles.categoryChipActive\r\n                                ]}\r\n                            >\r\n                                <Text style={[\r\n                                    styles.categoryChipText,\r\n                                    selectedCategories.includes(category) && styles.categoryChipTextActive\r\n                                ]}>\r\n                                    {category}\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n                        ))}\r\n                    </View>\r\n                )}\r\n                {/* Suggested for you heading */}\r\n                <Text style={styles.suggestedHeading}>Suggested for you</Text>\r\n            </>\r\n        );\r\n\r\n        if (buyLoading && data.length === 0) {\r\n            return (\r\n                <View style={centeredLoaderStyle}>\r\n                    <ActivityIndicator size=\"large\" color=\"#1a73e8\" />\r\n                </View>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <FlatList\r\n                data={data}\r\n\r\n                keyExtractor={(item, index) => `${String(item._id || item.id)}_${index}`}\r\n                contentContainerStyle={{ paddingBottom: BOTTOM_NAV_HEIGHT + 24 }}\r\n                renderItem={({ item }) => {\r\n                    const tradeId = item._id || item.id;\r\n                    if (!tradeId) return null;\r\n                    const isExpanded = expandedBuyTradeId === tradeId;\r\n                    const isSaved = savedItems.includes(String(tradeId));\r\n\r\n                    return (\r\n                        <TradeCard\r\n                            trade={item}\r\n                            isExpanded={isExpanded}\r\n                            isSaved={isSaved}\r\n                            currentPhotoIndex={currentPhotoIndex[String(tradeId)] || 0}\r\n                            onToggleExpand={() => setExpandedBuyTradeId(isExpanded ? null : (tradeId as string | number))}\r\n                            onToggleSave={() => toggleSaveItem(String(tradeId))}\r\n                            onPhotoIndexChange={(index) => setCurrentPhotoIndex(prev => ({ ...prev, [tradeId]: index }))}\r\n                        />\r\n                    );\r\n                }}\r\n                ListHeaderComponent={ListHeader}\r\n                onEndReached={handleLoadMoreBuy}\r\n                onEndReachedThreshold={0.5}\r\n                ListFooterComponent={() => buyLoading && data.length > 0 ? <ActivityIndicator size=\"small\" color=\"#1a73e8\" style={footerLoaderStyle} /> : null}\r\n                refreshControl={\r\n                    <RefreshControl\r\n                        refreshing={refreshing}\r\n                        onRefresh={onRefresh}\r\n                        tintColor=\"#1a73e8\"\r\n                        title=\"Release to refresh\"\r\n                        titleColor=\"#888\"\r\n                    />\r\n                }\r\n            />\r\n        );\r\n    };\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            {/* Fixed header */}\r\n            <View style={styles.headerContainer}>\r\n                {/* Swipeable tabs with underline indicator */}\r\n                <View style={styles.tabsRow}>\r\n                    <TouchableOpacity\r\n                        style={styles.tabItem}\r\n                        onPress={() => {\r\n                            setActiveTab('Buy');\r\n                            pagerRef.current?.scrollTo({ x: 0, animated: true });\r\n                        }}\r\n                    >\r\n                        <Text style={[styles.tabText, activeTab === 'Buy' && styles.tabTextActive]}>\r\n                            BUY\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                        style={styles.tabItem}\r\n                        onPress={() => {\r\n                            setActiveTab('Sell');\r\n                            pagerRef.current?.scrollTo({ x: screenW, animated: true });\r\n                        }}\r\n                    >\r\n                        <Text style={[styles.tabText, activeTab === 'Sell' && styles.tabTextActive]}>\r\n                            SELL\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n\r\n                    {/* Animated underline indicator */}\r\n                    <Animated.View style={animatedIndicatorStyle} />\r\n                </View>\r\n\r\n                {/* Show search/filters only on Buy tab */}\r\n                {activeTab === 'Buy' && (\r\n                    <>\r\n                        <View style={styles.searchRow}>\r\n                            <View style={styles.searchBox}>\r\n                                <MaterialCommunityIcons name=\"magnify\" size={18} color=\"#bfbfbf\" />\r\n                                <TextInput\r\n                                    placeholder=\"Search companies...\"\r\n                                    placeholderTextColor=\"#bfbfbf\"\r\n                                    style={styles.searchInput}\r\n                                    value={searchValue}\r\n                                    onChangeText={setSearchValue}\r\n                                />\r\n                                {searchValue !== '' && (\r\n                                    <TouchableOpacity onPress={() => setSearchValue('')}>\r\n                                        <MaterialCommunityIcons name=\"close\" size={18} color=\"#bfbfbf\" />\r\n                                    </TouchableOpacity>\r\n                                )}\r\n                            </View>\r\n                            <TouchableOpacity\r\n                                style={[styles.bookmarkBtn, showSavedOnly && styles.bookmarkBtnActive]}\r\n                                onPress={() => setShowSavedOnly(!showSavedOnly)}\r\n                            >\r\n                                <MaterialCommunityIcons\r\n                                    name={showSavedOnly ? \"bookmark\" : \"bookmark-outline\"}\r\n                                    size={20}\r\n                                    color={showSavedOnly ? \"#fff\" : \"#bfbfbf\"}\r\n                                />\r\n                            </TouchableOpacity>\r\n                        </View>\r\n\r\n                        {/* Filter Button */}\r\n                        <TouchableOpacity\r\n                            style={styles.filterButton}\r\n                            onPress={() => setIsFilterOpen(!isFilterOpen)}\r\n                        >\r\n                            <MaterialCommunityIcons name=\"tune\" size={18} color=\"#fff\" />\r\n                            <Text style={styles.filterButtonText}>Filters</Text>\r\n                            <MaterialCommunityIcons\r\n                                name={isFilterOpen ? \"chevron-up\" : \"chevron-down\"}\r\n                                size={20}\r\n                                color=\"#bfbfbf\"\r\n                            />\r\n                        </TouchableOpacity>\r\n                    </>\r\n                )}\r\n            </View>\r\n\r\n            {/* Swipeable content */}\r\n            <Animated.ScrollView\r\n                horizontal\r\n                pagingEnabled\r\n                ref={r => { pagerRef.current = r; }}\r\n                showsHorizontalScrollIndicator={false}\r\n                onMomentumScrollEnd={(e) => {\r\n                    const idx = Math.round(e.nativeEvent.contentOffset.x / screenW);\r\n                    setActiveTab(idx === 0 ? 'Buy' : 'Sell');\r\n                }}\r\n                onScroll={(e) => {\r\n                    const x = e.nativeEvent.contentOffset.x;\r\n                    // Update tab state during scrolling for smoother transitions\r\n                    const newTab = x > screenW / 2 ? 'Sell' : 'Buy';\r\n                    if (newTab !== activeTab) {\r\n                        setActiveTab(newTab);\r\n                    }\r\n                    // Update animated value\r\n                    scrollX.setValue(x);\r\n                }}\r\n                scrollEventThrottle={16}\r\n                style={flexOneStyle}\r\n            >\r\n                {/* Buy tab content */}\r\n                <View style={[styles.pagerPage, pagerPageWidth]}>\r\n                    {renderMarketsList()}\r\n                </View>\r\n\r\n                {/* Sell tab content - Investor Portfolios */}\r\n                <View style={[styles.pagerPage, pagerPageWidth]}>\r\n                    {renderInvestorPortfolios()}\r\n                </View>\r\n            </Animated.ScrollView>\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nexport default Trading;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\components\\FilterBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\components\\TradeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\components\\TradingForm.tsx","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginHorizontal: -16,\n  paddingHorizontal: 16,\n  borderTopWidth: 1,\n  borderColor: '#333',\n  marginBottom: -16,\n  paddingBottom: 24\n}","line":67,"column":26,"nodeType":"ObjectExpression","endLine":75,"endColumn":14},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, marginRight: 8 }","line":134,"column":55,"nodeType":"ObjectExpression","endLine":134,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":141,"column":55,"nodeType":"ObjectExpression","endLine":141,"endColumn":66},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, marginRight: 8 }","line":163,"column":55,"nodeType":"ObjectExpression","endLine":163,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":170,"column":55,"nodeType":"ObjectExpression","endLine":170,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, ScrollView, Image as RNImage } from 'react-native';\r\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons';\r\nimport { styles } from '../styles';\r\nimport { industryTags } from '../types';\r\n\r\ninterface TradingFormProps {\r\n    sellingRangeMin: number;\r\n    setSellingRangeMin: (val: number) => void;\r\n    sellingRangeMax: number;\r\n    setSellingRangeMax: (val: number) => void;\r\n    isManualEntry: boolean;\r\n    setIsManualEntry: (val: boolean) => void;\r\n    startupUsername: string;\r\n    setStartupUsername: (val: string) => void;\r\n    externalLinkHeading: string;\r\n    setExternalLinkHeading: (val: string) => void;\r\n    externalLinkUrl: string;\r\n    setExternalLinkUrl: (val: string) => void;\r\n    description: string;\r\n    setDescription: (val: string) => void;\r\n    revenueStatus: \"revenue-generating\" | \"pre-revenue\";\r\n    setRevenueStatus: (val: \"revenue-generating\" | \"pre-revenue\") => void;\r\n    videoUri: string;\r\n    handleVideoUpload: () => void;\r\n    imageUris: string[];\r\n    handleImageUpload: () => void;\r\n    removeImage: (index: number) => void;\r\n    selectedIndustries: string[];\r\n    toggleIndustry: (tag: string) => void;\r\n    onSubmit: () => void;\r\n    submitText: string;\r\n    noPadding?: boolean;\r\n}\r\n\r\nexport const TradingForm: React.FC<TradingFormProps> = ({\r\n    sellingRangeMin,\r\n    setSellingRangeMin,\r\n    sellingRangeMax,\r\n    setSellingRangeMax,\r\n    isManualEntry,\r\n    setIsManualEntry,\r\n    startupUsername,\r\n    setStartupUsername,\r\n    externalLinkHeading,\r\n    setExternalLinkHeading,\r\n    externalLinkUrl,\r\n    setExternalLinkUrl,\r\n    description,\r\n    setDescription,\r\n    revenueStatus,\r\n    setRevenueStatus,\r\n    videoUri,\r\n    handleVideoUpload,\r\n    imageUris,\r\n    handleImageUpload,\r\n    removeImage,\r\n    selectedIndustries,\r\n    toggleIndustry,\r\n    onSubmit,\r\n    submitText,\r\n    noPadding\r\n}) => {\r\n    return (\r\n        <View style={[\r\n            styles.portfolioExpanded,\r\n            noPadding && {\r\n                marginHorizontal: -16,\r\n                paddingHorizontal: 16,\r\n                borderTopWidth: 1, // ensure explicit border\r\n                borderColor: '#333',\r\n                // marginTop: 12, // optional spacing\r\n                marginBottom: -16, // pull bottom to edge\r\n                paddingBottom: 24, // add internal padding\r\n            }\r\n        ]}>\r\n            {/* Selling Range */}\r\n            <Text style={styles.formLabel}>Selling Range (%)</Text>\r\n            <View style={styles.rangeRow}>\r\n                <TextInput\r\n                    style={styles.rangeInput}\r\n                    placeholder=\"10\"\r\n                    placeholderTextColor=\"#666\"\r\n                    keyboardType=\"numeric\"\r\n                    value={String(sellingRangeMin)}\r\n                    onChangeText={(text) => setSellingRangeMin(parseFloat(text) || 0)}\r\n                />\r\n                <Text style={styles.rangeToText}>to</Text>\r\n                <TextInput\r\n                    style={styles.rangeInput}\r\n                    placeholder=\"40\"\r\n                    placeholderTextColor=\"#666\"\r\n                    keyboardType=\"numeric\"\r\n                    value={String(sellingRangeMax)}\r\n                    onChangeText={(text) => setSellingRangeMax(parseFloat(text) || 0)}\r\n                />\r\n            </View>\r\n\r\n            {/* Startup Details */}\r\n            <Text style={styles.formLabel}>Startup Details</Text>\r\n            <View style={styles.toggleRow}>\r\n                <TouchableOpacity\r\n                    style={[styles.toggleButton, !isManualEntry && styles.toggleButtonActive]}\r\n                    onPress={() => setIsManualEntry(false)}\r\n                >\r\n                    <Text style={!isManualEntry ? styles.toggleTextActive : styles.toggleText}>\r\n                        Auto Entry\r\n                    </Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity\r\n                    style={[styles.toggleButton, isManualEntry && styles.toggleButtonActive]}\r\n                    onPress={() => setIsManualEntry(true)}\r\n                >\r\n                    <Text style={isManualEntry ? styles.toggleTextActive : styles.toggleText}>\r\n                        Manual Entry\r\n                    </Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n\r\n            {!isManualEntry ? (\r\n                // AUTO ENTRY\r\n                <View>\r\n                    <TextInput\r\n                        style={styles.usernameInput}\r\n                        placeholder=\"@username\"\r\n                        placeholderTextColor=\"#666\"\r\n                        value={startupUsername}\r\n                        onChangeText={setStartupUsername}\r\n                    />\r\n\r\n                    <Text style={styles.formLabel}>Add external link</Text>\r\n                    <View style={styles.linkRow}>\r\n                        <TextInput\r\n                            style={[styles.linkInput, { flex: 1, marginRight: 8 }]}\r\n                            placeholder=\"Heading\"\r\n                            placeholderTextColor=\"#666\"\r\n                            value={externalLinkHeading}\r\n                            onChangeText={setExternalLinkHeading}\r\n                        />\r\n                        <TextInput\r\n                            style={[styles.linkInput, { flex: 1 }]}\r\n                            placeholder=\"Link\"\r\n                            placeholderTextColor=\"#666\"\r\n                            value={externalLinkUrl}\r\n                            onChangeText={setExternalLinkUrl}\r\n                        />\r\n                    </View>\r\n                </View>\r\n            ) : (\r\n                // MANUAL ENTRY\r\n                <View>\r\n                    <TextInput\r\n                        style={styles.usernameInput}\r\n                        placeholder=\"@username (optional)\"\r\n                        placeholderTextColor=\"#666\"\r\n                        value={startupUsername}\r\n                        onChangeText={setStartupUsername}\r\n                    />\r\n\r\n                    <Text style={styles.formLabel}>Add external link</Text>\r\n                    <View style={styles.linkRow}>\r\n                        <TextInput\r\n                            style={[styles.linkInput, { flex: 1, marginRight: 8 }]}\r\n                            placeholder=\"Heading\"\r\n                            placeholderTextColor=\"#666\"\r\n                            value={externalLinkHeading}\r\n                            onChangeText={setExternalLinkHeading}\r\n                        />\r\n                        <TextInput\r\n                            style={[styles.linkInput, { flex: 1 }]}\r\n                            placeholder=\"Link\"\r\n                            placeholderTextColor=\"#666\"\r\n                            value={externalLinkUrl}\r\n                            onChangeText={setExternalLinkUrl}\r\n                        />\r\n                    </View>\r\n\r\n                    {/* Segment Tags */}\r\n                    <Text style={styles.formLabel}>Segment (max 3)</Text>\r\n                    <ScrollView\r\n                        showsVerticalScrollIndicator={false}\r\n                        style={styles.tagsScroll}\r\n                        nestedScrollEnabled={true}\r\n                    >\r\n                        <View style={styles.tagsContent}>\r\n                            {industryTags.map(tag => (\r\n                                <TouchableOpacity\r\n                                    key={tag}\r\n                                    onPress={() => toggleIndustry(tag)}\r\n                                    disabled={!selectedIndustries.includes(tag) && selectedIndustries.length >= 3}\r\n                                    style={[\r\n                                        styles.tagChip,\r\n                                        selectedIndustries.includes(tag) && styles.tagChipActive\r\n                                    ]}\r\n                                >\r\n                                    <Text style={[\r\n                                        styles.tagChipText,\r\n                                        selectedIndustries.includes(tag) && styles.tagChipTextActive\r\n                                    ]}>\r\n                                        {tag}\r\n                                    </Text>\r\n                                </TouchableOpacity>\r\n                            ))}\r\n                        </View>\r\n                    </ScrollView>\r\n\r\n                    {/* Description */}\r\n                    <Text style={styles.formLabel}>Description</Text>\r\n                    <TextInput\r\n                        style={styles.descriptionInput}\r\n                        placeholder=\"Description...\"\r\n                        placeholderTextColor=\"#666\"\r\n                        multiline\r\n                        numberOfLines={3}\r\n                        value={description}\r\n                        onChangeText={setDescription}\r\n                    />\r\n\r\n                    {/* Revenue Status */}\r\n                    <View style={styles.toggleRow}>\r\n                        <TouchableOpacity\r\n                            style={[styles.toggleButton, revenueStatus === 'revenue-generating' && styles.toggleButtonActive]}\r\n                            onPress={() => setRevenueStatus('revenue-generating')}\r\n                        >\r\n                            <Text style={revenueStatus === 'revenue-generating' ? styles.toggleTextActive : styles.toggleText}>\r\n                                Revenue Generating\r\n                            </Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity\r\n                            style={[styles.toggleButton, revenueStatus === 'pre-revenue' && styles.toggleButtonActive]}\r\n                            onPress={() => setRevenueStatus('pre-revenue')}\r\n                        >\r\n                            <Text style={revenueStatus === 'pre-revenue' ? styles.toggleTextActive : styles.toggleText}>\r\n                                Pre Revenue\r\n                            </Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    {/* Video Upload */}\r\n                    <TouchableOpacity style={styles.uploadButton} onPress={handleVideoUpload}>\r\n                        <MaterialCommunityIcons name=\"video\" size={16} color=\"#fff\" />\r\n                        <Text style={styles.uploadButtonText}>\r\n                            {videoUri ? 'Video Selected' : 'Upload Video'}\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n\r\n                    {/* Image Upload */}\r\n                    <TouchableOpacity style={styles.uploadButton} onPress={handleImageUpload}>\r\n                        <MaterialCommunityIcons name=\"image\" size={16} color=\"#fff\" />\r\n                        <Text style={styles.uploadButtonText}>Upload Images</Text>\r\n                    </TouchableOpacity>\r\n\r\n                    {imageUris.length > 0 && (\r\n                        <View style={styles.imagePreviewContainer}>\r\n                            {imageUris.map((uri, idx) => (\r\n                                <View key={idx} style={styles.imagePreview}>\r\n                                    <RNImage source={{ uri }} style={styles.previewImage} />\r\n                                    <TouchableOpacity\r\n                                        style={styles.removeImageButton}\r\n                                        onPress={() => removeImage(idx)}\r\n                                    >\r\n                                        <MaterialCommunityIcons name=\"close\" size={16} color=\"#fff\" />\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n                            ))}\r\n                        </View>\r\n                    )}\r\n                </View>\r\n            )}\r\n\r\n            <TouchableOpacity\r\n                style={styles.openTradeButton}\r\n                onPress={onSubmit}\r\n            >\r\n                <Text style={styles.openTradeButtonText}>\r\n                    {submitText}\r\n                </Text>\r\n            </TouchableOpacity>\r\n        </View>\r\n    );\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\Trading\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\InvestorPortfolio.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, justifyContent: 'center', alignItems: 'center' }","line":7,"column":22,"nodeType":"ObjectExpression","endLine":7,"endColumn":116,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { position: 'absolute', top: 40, left: 20 }","line":8,"column":55,"nodeType":"ObjectExpression","endLine":8,"endColumn":98,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18 }","line":9,"column":30,"nodeType":"ObjectExpression","endLine":9,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 24, fontWeight: 'bold' }","line":11,"column":26,"nodeType":"ObjectExpression","endLine":11,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\PostCard.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700' }","line":14,"column":26,"nodeType":"ObjectExpression","endLine":14,"endColumn":66,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6 }","line":15,"column":42,"nodeType":"ObjectExpression","endLine":15,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\Profile.styles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\ProfileHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\ProfilePager.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#222' }","line":65,"column":30,"nodeType":"ObjectExpression","endLine":65,"endColumn":94,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '100%', height: '100%' }","line":68,"column":32,"nodeType":"ObjectExpression","endLine":68,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  top: 4,\n  right: 4,\n  backgroundColor: 'rgba(0,0,0,0.5)',\n  borderRadius: 4,\n  padding: 2\n}","line":73,"column":38,"nodeType":"ObjectExpression","endLine":80,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  top: 4,\n  right: 4,\n  backgroundColor: 'rgba(0,0,0,0.5)',\n  borderRadius: 4,\n  padding: 2\n}","line":86,"column":38,"nodeType":"ObjectExpression","endLine":93,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  top: 4,\n  right: 4,\n  backgroundColor: 'rgba(0,0,0,0.5)',\n  borderRadius: 4,\n  padding: 2\n}","line":99,"column":38,"nodeType":"ObjectExpression","endLine":106,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":156,"column":28,"nodeType":"ObjectExpression","endLine":156,"endColumn":39,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'flex-start', justifyContent: 'flex-start' }","line":158,"column":53,"nodeType":"ObjectExpression","endLine":158,"endColumn":127,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":159,"column":38,"nodeType":"ObjectExpression","endLine":159,"endColumn":52,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingHorizontal: 1 }","line":178,"column":56,"nodeType":"ObjectExpression","endLine":178,"endColumn":80,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { gap: 2, marginBottom: 2 }","line":179,"column":53,"nodeType":"ObjectExpression","endLine":179,"endColumn":80,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\profile\\SettingsOverlay.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 48 }","line":175,"column":73,"nodeType":"ObjectExpression","endLine":175,"endColumn":94,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 48 }","line":262,"column":38,"nodeType":"ObjectExpression","endLine":262,"endColumn":52,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.5)',\n  justifyContent: 'center',\n  padding: 20\n}","line":269,"column":30,"nodeType":"ObjectExpression","endLine":269,"endColumn":116,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderRadius: 12, padding: 20 }","line":270,"column":34,"nodeType":"ObjectExpression","endLine":270,"endColumn":116,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, fontWeight: '600', marginBottom: 16 }","line":271,"column":38,"nodeType":"ObjectExpression","endLine":271,"endColumn":110,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderRadius: 8, padding: 12, fontSize: 16, borderWidth: 1 }","line":275,"column":36,"nodeType":"ObjectExpression","endLine":283,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginTop: 20, gap: 12 }","line":290,"column":38,"nodeType":"ObjectExpression","endLine":290,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 12, borderRadius: 8, alignItems: 'center' }","line":292,"column":40,"nodeType":"ObjectExpression","endLine":292,"endColumn":134,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 12, borderRadius: 8, alignItems: 'center' }","line":298,"column":40,"nodeType":"ObjectExpression","endLine":298,"endColumn":148,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '600' }","line":305,"column":50,"nodeType":"ObjectExpression","endLine":305,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.5)',\n  justifyContent: 'center',\n  padding: 20\n}","line":315,"column":30,"nodeType":"ObjectExpression","endLine":315,"endColumn":116,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderRadius: 12, padding: 20 }","line":316,"column":34,"nodeType":"ObjectExpression","endLine":316,"endColumn":116,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, fontWeight: '600', marginBottom: 16 }","line":317,"column":38,"nodeType":"ObjectExpression","endLine":317,"endColumn":110,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderRadius: 8,\n  padding: 12,\n  fontSize: 16,\n  borderWidth: 1,\n  marginBottom: 12\n}","line":321,"column":36,"nodeType":"ObjectExpression","endLine":330,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderRadius: 8,\n  padding: 12,\n  fontSize: 16,\n  borderWidth: 1,\n  marginBottom: 12\n}","line":338,"column":36,"nodeType":"ObjectExpression","endLine":347,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderRadius: 8, padding: 12, fontSize: 16, borderWidth: 1 }","line":355,"column":36,"nodeType":"ObjectExpression","endLine":363,"endColumn":30,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginTop: 20, gap: 12 }","line":370,"column":38,"nodeType":"ObjectExpression","endLine":370,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 12, borderRadius: 8, alignItems: 'center' }","line":372,"column":40,"nodeType":"ObjectExpression","endLine":372,"endColumn":134,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 12, borderRadius: 8, alignItems: 'center' }","line":383,"column":40,"nodeType":"ObjectExpression","endLine":383,"endColumn":148,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '600' }","line":390,"column":50,"nodeType":"ObjectExpression","endLine":390,"endColumn":86,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\InvestorPortfolioStep.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { position: 'absolute', left: 0, right: 0, opacity: 0 }","line":26,"column":26,"nodeType":"ObjectExpression","endLine":26,"endColumn":81,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { overflow: 'hidden' }","line":37,"column":35,"nodeType":"ObjectExpression","endLine":37,"endColumn":82,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"selectedFocus.length ? '#fff' : '#777'\" }","line":240,"column":38,"nodeType":"ObjectExpression","endLine":240,"endColumn":87,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"selectedRounds.length ? '#fff' : '#777'\" }","line":245,"column":38,"nodeType":"ObjectExpression","endLine":245,"endColumn":88,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"selectedStages.length ? '#fff' : '#777'\" }","line":250,"column":38,"nodeType":"ObjectExpression","endLine":250,"endColumn":88,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12 }","line":258,"column":59,"nodeType":"ObjectExpression","endLine":258,"endColumn":76,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"date ? '#fff' : '#777'\" }","line":298,"column":50,"nodeType":"ObjectExpression","endLine":298,"endColumn":83,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"docName ? '#fff' : '#777'\" }","line":323,"column":54,"nodeType":"ObjectExpression","endLine":323,"endColumn":90,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\InvestorSetup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\KycPortfolioOptions.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginBottom: 24,\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'center'\n}","line":31,"column":47,"nodeType":"ObjectExpression","endLine":31,"endColumn":164,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginRight: 12 }","line":33,"column":54,"nodeType":"ObjectExpression","endLine":33,"endColumn":92,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'center'\n}","line":44,"column":51,"nodeType":"ObjectExpression","endLine":44,"endColumn":150,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginRight: 12 }","line":46,"column":58,"nodeType":"ObjectExpression","endLine":46,"endColumn":96,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\PersonalSetup.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 20 }","line":20,"column":22,"nodeType":"ObjectExpression","endLine":20,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, fontWeight: '700', marginBottom: 12 }","line":21,"column":26,"nodeType":"ObjectExpression","endLine":21,"endColumn":79,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, borderRadius: 8, padding: 8, marginBottom: 8 }","line":22,"column":93,"nodeType":"ObjectExpression","endLine":22,"endColumn":157,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#06f' }","line":23,"column":59,"nodeType":"ObjectExpression","endLine":23,"endColumn":76,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\StartupPortfolioStep.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\StartupSetup.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 20 }","line":29,"column":22,"nodeType":"ObjectExpression","endLine":29,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, fontWeight: '700', marginBottom: 12 }","line":30,"column":26,"nodeType":"ObjectExpression","endLine":30,"endColumn":79,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, borderRadius: 8, padding: 8, marginBottom: 8 }","line":31,"column":108,"nodeType":"ObjectExpression","endLine":31,"endColumn":172,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, borderRadius: 8, padding: 8, marginBottom: 8 }","line":32,"column":89,"nodeType":"ObjectExpression","endLine":32,"endColumn":153,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, borderRadius: 8, padding: 8, marginBottom: 8 }","line":33,"column":98,"nodeType":"ObjectExpression","endLine":33,"endColumn":162,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, borderRadius: 8, padding: 8, marginBottom: 8 }","line":34,"column":108,"nodeType":"ObjectExpression","endLine":34,"endColumn":172,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingVertical: 12,\n  alignItems: 'center',\n  borderRadius: 8,\n  borderWidth: 1,\n  borderColor: '#06f',\n  marginBottom: 12\n}","line":36,"column":53,"nodeType":"ObjectExpression","endLine":36,"endColumn":170,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#06f', fontWeight: '700' }","line":37,"column":30,"nodeType":"ObjectExpression","endLine":37,"endColumn":66,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingVertical: 14,\n  alignItems: 'center',\n  borderRadius: 12,\n  backgroundColor: '#111',\n  borderWidth: 1,\n  borderColor: '#222'\n}","line":40,"column":65,"nodeType":"ObjectExpression","endLine":40,"endColumn":190,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":41,"column":30,"nodeType":"ObjectExpression","endLine":41,"endColumn":66,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\sanke\\Documents\\AtmosphereApp\\Atmosphere\\src\\screens\\setup-steps\\StartupVerifyStep.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 20, backgroundColor: '#000' }","line":115,"column":22,"nodeType":"ObjectExpression","endLine":115,"endColumn":71,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 56, flexDirection: 'row', alignItems: 'center' }","line":116,"column":26,"nodeType":"ObjectExpression","endLine":116,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8 }","line":117,"column":59,"nodeType":"ObjectExpression","endLine":117,"endColumn":73,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontSize: 22 }","line":118,"column":34,"nodeType":"ObjectExpression","endLine":118,"endColumn":65,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, alignItems: 'center' }","line":120,"column":30,"nodeType":"ObjectExpression","endLine":120,"endColumn":63,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700', fontSize: 16 }","line":121,"column":34,"nodeType":"ObjectExpression","endLine":121,"endColumn":84,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 40 }","line":123,"column":30,"nodeType":"ObjectExpression","endLine":123,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontSize: 14, fontWeight: '700', marginTop: 20 }","line":126,"column":26,"nodeType":"ObjectExpression","endLine":126,"endColumn":91,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 16 }","line":128,"column":26,"nodeType":"ObjectExpression","endLine":128,"endColumn":43,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: \"kycCompleted ? '#22c55e' : '#222'\",\n  padding: 18,\n  borderRadius: 16,\n  marginBottom: 12,\n  backgroundColor: '#070707'\n}","line":131,"column":28,"nodeType":"ObjectExpression","endLine":138,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  alignItems: 'center'\n}","line":140,"column":34,"nodeType":"ObjectExpression","endLine":140,"endColumn":113,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '600' }","line":142,"column":42,"nodeType":"ObjectExpression","endLine":142,"endColumn":78,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#22c55e', fontSize: 12, marginTop: 4 }","line":143,"column":59,"nodeType":"ObjectExpression","endLine":143,"endColumn":107,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":145,"column":38,"nodeType":"ObjectExpression","endLine":145,"endColumn":55,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: \"portfolioCompleted ? '#22c55e' : '#222'\",\n  padding: 18,\n  borderRadius: 16,\n  marginBottom: 12,\n  backgroundColor: '#070707'\n}","line":152,"column":32,"nodeType":"ObjectExpression","endLine":159,"endColumn":26,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  alignItems: 'center'\n}","line":161,"column":38,"nodeType":"ObjectExpression","endLine":161,"endColumn":117,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '600' }","line":163,"column":46,"nodeType":"ObjectExpression","endLine":163,"endColumn":82,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#22c55e', fontSize: 12, marginTop: 4 }","line":164,"column":69,"nodeType":"ObjectExpression","endLine":164,"endColumn":117,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":166,"column":42,"nodeType":"ObjectExpression","endLine":166,"endColumn":59,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":172,"column":26,"nodeType":"ObjectExpression","endLine":172,"endColumn":37,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'center', marginBottom: 12 }","line":174,"column":26,"nodeType":"ObjectExpression","endLine":174,"endColumn":68,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#999' }","line":175,"column":30,"nodeType":"ObjectExpression","endLine":175,"endColumn":47,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: \"allDone ? '#22c55e' : '#333'\",\n  paddingVertical: 14,\n  borderRadius: 10,\n  alignItems: 'center',\n  marginBottom: 20,\n  opacity: 'allDone ? 1 : 0.5'\n}","line":182,"column":24,"nodeType":"ObjectExpression","endLine":189,"endColumn":18,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":191,"column":30,"nodeType":"ObjectExpression","endLine":191,"endColumn":66,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]}]